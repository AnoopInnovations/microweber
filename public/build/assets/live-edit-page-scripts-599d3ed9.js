mw.require("options.js");mw.require("liveedit.css");mw.liveEditSaveService={grammarlyFix:function(e){return mw.$("grammarly-btn",e).remove(),mw.$("grammarly-card",e).remove(),mw.$("g.gr_",e).each(function(){mw.$(this).replaceWith(this.innerHTML)}),mw.$("[data-gramm_id]",e).removeAttr("data-gramm_id"),mw.$("[data-gramm]",e).removeAttr("data-gramm"),mw.$("[data-gramm_id]",e).removeAttr("data-gramm_id"),mw.$("grammarly-card",e).remove(),mw.$("grammarly-inline-cards",e).remove(),mw.$("grammarly-popups",e).remove(),mw.$("grammarly-extension",e).remove(),e},saving:!1,coreSave:function(e){if(!e)return!1;$.each(e,function(){var r=mw.tools.parseHtml(this.html).body;mw.liveEditSaveService.grammarlyFix(r),mw.liveEditSaveService.animationsClearFix(r),this.html=r.innerHTML}),mw.liveEditSaveService.saving=!0,e=JSON.stringify(e),e=btoa(encodeURIComponent(e).replace(/%([0-9A-F]{2})/g,function(a,i){return String.fromCharCode("0x"+i)})),e={data_base64:e};var t=mw.ajax({type:"POST",url:mw.settings.api_url+"save_edit",data:e,dataType:"json",success:function(r){r&&r.new_page_url&&!mw.liveEditSaveService.DraftSaving&&(window.mw.parent().askusertostay=!1,window.mw.askusertostay=!1,window.location.href=r.new_page_url)}});return t.always(function(){mw.liveEditSaveService.saving=!1}),t},parseContent:function(e){e=e||document.body;var t=mw.tools.parseHtml(e.innerHTML);mw.$(".element-current",t).removeClass("element-current"),mw.$(".element-active",t).removeClass("element-active"),mw.$(".disable-resize",t).removeClass("disable-resize"),mw.$(".mw-module-drag-clone",t).removeClass("mw-module-drag-clone"),mw.$(".ui-draggable",t).removeClass("ui-draggable"),mw.$(".ui-draggable-handle",t).removeClass("ui-draggable-handle"),mw.$(".mt-ready",t).removeClass("mt-ready"),mw.$(".mw-webkit-drag-hover-binded",t).removeClass("mw-webkit-drag-hover-binded"),mw.$(".module-cat-toggle-Modules",t).removeClass("module-cat-toggle-Modules"),mw.$(".mw-module-drag-clone",t).removeClass("mw-module-drag-clone"),mw.$("-module",t).removeClass("-module"),mw.$(".empty-element",t).remove(),mw.$(".empty-element",t).remove(),mw.$(".edit .ui-resizable-handle",t).remove(),mw.$("script",t).remove(),mw.tools.classNamespaceDelete("all","ui-",t,"starts"),mw.$("[contenteditable]",t).removeAttr("contenteditable");for(var r=t.querySelectorAll("[contenteditable]"),a=r.length,i=0;i<a;i++)r[i].removeAttribute("contenteditable");for(var r=t.querySelectorAll(".module"),a=r.length,i=0;i<a;i++)r[i].querySelector(".edit")===null&&(r[i].innerHTML="");return t},htmlAttrValidate:function(e){var t=[];return $.each(e,function(){var r=this.outerHTML;r=r.replace(/url\(&quot;/g,"url('"),r=r.replace(/jpg&quot;/g,"jpg'"),r=r.replace(/jpeg&quot;/g,"jpeg'"),r=r.replace(/png&quot;/g,"png'"),r=r.replace(/gif&quot;/g,"gif'"),t.push($(r)[0])}),t},cleanUnwantedTags:function(e){return mw.$(".mw-skip-and-remove,script",e).remove(),e},animationsClearFix:function(e){return mw.$('[class*="animate__"]').each(function(){mw.tools.classNamespaceDelete(this,"animate__")}),e},collectData:function(e){mw.$(e).each(function(){mw.$("meta",this).remove(),$(".mw-le-spacer",this).empty().removeAttr("data-resizable").removeAttr("style")}),e=this.htmlAttrValidate(e);var t=e.length,r=0,a={},i={};if(t>0)for(;r<t;r++){a.item=e[r];var v=mw.tools.mwattr(a.item,"rel");v||(mw.$(a.item).removeClass("changed"),mw.tools.foreachParents(a.item,function(s){var d=this.className,f=mw.tools.mwattr(this,"rel");mw.tools.hasClass(d,"edit")&&mw.tools.hasClass(d,"changed")&&f&&(a.item=this,mw.tools.stopLoop(s))}));var v=mw.tools.mwattr(a.item,"rel");if(!v){var c=a.item.id?"#"+a.item.id:"";console.warn("Skipped save: .edit"+c+" element does not have rel attribute.");continue}mw.$(a.item).removeClass("changed orig_changed"),mw.$(a.item).removeClass("module-over"),mw.$(".module-over",a.item).each(function(){mw.$(this).removeClass("module-over")}),mw.$("[class]",a.item).each(function(){var s=this.getAttribute("class");typeof s=="string"&&(s=s.trim()),s||this.removeAttribute("class")});var l=mw.liveEditSaveService.cleanUnwantedTags(a.item).innerHTML,m={},n=a.item.attributes;if(n.length>0)for(var o=0,w=n.length;o<w;o++)m[n[o].nodeName]=n[o].nodeValue;var u={attributes:m,html:l},g="field_data_"+r;i[g]=u}return i},getData:function(e){var t=mw.liveEditSaveService.parseContent(e).body,r=t.querySelectorAll(".edit.changed");return mw.liveEditSaveService.collectData(r)},saveDisabled:!1,draftDisabled:!1,save:async function(e,t,r){if(mw.trigger("beforeSaveStart",e),mw.liveedit&&mw.liveedit.cssEditor&&mw.liveedit.cssEditor.publishIfChanged(),mw.liveEditSaveService.saveDisabled)return!1;if(!e){var a=mw.liveEditSaveService.parseContent().body,i=a.querySelectorAll(".edit.changed");e=mw.liveEditSaveService.collectData(i)}var v=(mw.__pageAnimations||[]).filter(function(m){return m.animation!=="none"}),c={group:"template",key:"animations-global",value:JSON.stringify(v)};if(await new Promise(m=>{mw.options.saveOption(c,function(){m()})}),mw.tools.isEmptyObject(e))return t&&t.call({}),!1;mw._liveeditData=e,mw.trigger("saveStart",mw._liveeditData);var l=mw.liveEditSaveService.coreSave(mw._liveeditData);return l.error(function(m){l.status==403&&(mw.dialog({id:"save_content_error_iframe_modal",html:"<iframe id='save_content_error_iframe' style='overflow-x:hidden;overflow-y:auto;' class='mw-modal-frame' ></iframe>",width:$(window).width()-90,height:$(window).height()-90}),mw.askusertostay=!1,mw.$("#save_content_error_iframe").ready(function(){var n=document.getElementById("save_content_error_iframe").contentWindow.document;n.open(),n.write(l.responseText),n.close();var o=0;n=document.getElementById("save_content_error_iframe").contentWindow.document,mw.$("#save_content_error_iframe").load(function(){var w=mw.$(".challenge-form",n).length;o++,w&&o==2&&setTimeout(function(){mw.askusertostay=!1,mw.$("#save_content_error_iframe_modal").remove()},150)})})),r&&r.call(m)}),l.success(function(m){mw.$(".edit.changed").removeClass("changed"),mw.$(".orig_changed").removeClass("orig_changed"),document.querySelector(".edit.changed")!==null?mw.liveEditSaveService.save():(mw.askusertostay=!1,mw.trigger("saveEnd",m)),t&&t.call(m)}),l.fail(function(m,n,o){mw.trigger("saveFailed",n,o),r&&r.call(sdata)}),l}};addEventListener("load",()=>{const e=async()=>new Promise(t=>{mw.liveEditSaveService.save(void 0,()=>t(!0),()=>t(!1))});mw.top().app.save=async()=>await e(),window.addEventListener("keydown",function(t){mw.top().app.canvas.dispatch("iframeKeyDown",{event:t})})});self.onbeforeunload=function(e){var t=mw.top().app.canvas.getWindow();if(t&&t.mw&&t.mw.askusertostay)return!0;mw.top().spinner({element:mw.top().app.canvas.getFrame().parentElement,decorate:!0,size:52}).show()};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibGl2ZS1lZGl0LXBhZ2Utc2NyaXB0cy01OTlkM2VkOS5qcyIsInNvdXJjZXMiOlsiLi4vLi4vLi4vc3JjL01pY3Jvd2ViZXJQYWNrYWdlcy9MaXZlRWRpdC9yZXNvdXJjZXMvanMvdWkvbGl2ZS1lZGl0LXBhZ2Utc2NyaXB0cy5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJcclxubXcucmVxdWlyZSgnb3B0aW9ucy5qcycpXHJcbm13LnJlcXVpcmUoJ2xpdmVlZGl0LmNzcycpXHJcblxyXG5cclxubXcubGl2ZUVkaXRTYXZlU2VydmljZSA9IHtcclxuICAgICBncmFtbWFybHlGaXg6ZnVuY3Rpb24oZGF0YSl7XHJcblxyXG4gICAgICAgIG13LiQoXCJncmFtbWFybHktYnRuXCIsIGRhdGEpLnJlbW92ZSgpO1xyXG4gICAgICAgIG13LiQoXCJncmFtbWFybHktY2FyZFwiLCBkYXRhKS5yZW1vdmUoKTtcclxuICAgICAgICBtdy4kKFwiZy5ncl9cIiwgZGF0YSkuZWFjaChmdW5jdGlvbigpe1xyXG4gICAgICAgICAgICBtdy4kKHRoaXMpLnJlcGxhY2VXaXRoKHRoaXMuaW5uZXJIVE1MKTtcclxuICAgICAgICB9KTtcclxuICAgICAgICBtdy4kKFwiW2RhdGEtZ3JhbW1faWRdXCIsIGRhdGEpLnJlbW92ZUF0dHIoJ2RhdGEtZ3JhbW1faWQnKTtcclxuICAgICAgICBtdy4kKFwiW2RhdGEtZ3JhbW1dXCIsIGRhdGEpLnJlbW92ZUF0dHIoJ2RhdGEtZ3JhbW0nKTtcclxuICAgICAgICBtdy4kKFwiW2RhdGEtZ3JhbW1faWRdXCIsIGRhdGEpLnJlbW92ZUF0dHIoJ2RhdGEtZ3JhbW1faWQnKTtcclxuICAgICAgICBtdy4kKFwiZ3JhbW1hcmx5LWNhcmRcIiwgZGF0YSkucmVtb3ZlKCk7XHJcbiAgICAgICAgbXcuJChcImdyYW1tYXJseS1pbmxpbmUtY2FyZHNcIiwgZGF0YSkucmVtb3ZlKCk7XHJcbiAgICAgICAgbXcuJChcImdyYW1tYXJseS1wb3B1cHNcIiwgZGF0YSkucmVtb3ZlKCk7XHJcbiAgICAgICAgbXcuJChcImdyYW1tYXJseS1leHRlbnNpb25cIiwgZGF0YSkucmVtb3ZlKCk7XHJcbiAgICAgICAgcmV0dXJuIGRhdGE7XHJcbiAgICB9LFxyXG4gICAgc2F2aW5nOiBmYWxzZSxcclxuICAgIGNvcmVTYXZlOiBmdW5jdGlvbihkYXRhKSB7XHJcbiAgICAgICAgaWYgKCFkYXRhKSByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgJC5lYWNoKGRhdGEsIGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgICAgIHZhciBib2R5ID0gbXcudG9vbHMucGFyc2VIdG1sKHRoaXMuaHRtbCkuYm9keTtcclxuICAgICAgICAgICAgbXcubGl2ZUVkaXRTYXZlU2VydmljZS5ncmFtbWFybHlGaXgoYm9keSk7XHJcbiAgICAgICAgICAgIG13LmxpdmVFZGl0U2F2ZVNlcnZpY2UuYW5pbWF0aW9uc0NsZWFyRml4KGJvZHkpO1xyXG4gICAgICAgICAgICB0aGlzLmh0bWwgPSBib2R5LmlubmVySFRNTDtcclxuICAgICAgICB9KTtcclxuICAgICAgICBtdy5saXZlRWRpdFNhdmVTZXJ2aWNlLnNhdmluZyA9IHRydWU7XHJcblxyXG4gICAgICAgIC8qKioqKioqKioqKiogIFNUQVJUIGJhc2U2NCAgKioqKioqKioqKioqL1xyXG4gICAgICAgIGRhdGEgPSBKU09OLnN0cmluZ2lmeShkYXRhKTtcclxuICAgICAgICBkYXRhID0gYnRvYShlbmNvZGVVUklDb21wb25lbnQoZGF0YSkucmVwbGFjZSgvJShbMC05QS1GXXsyfSkvZyxcclxuICAgICAgICAgICAgZnVuY3Rpb24gdG9Tb2xpZEJ5dGVzKG1hdGNoLCBwMSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIFN0cmluZy5mcm9tQ2hhckNvZGUoJzB4JyArIHAxKTtcclxuICAgICAgICAgICAgfSkpO1xyXG4gICAgICAgIGRhdGEgPSB7ZGF0YV9iYXNlNjQ6ZGF0YX07XHJcbiAgICAgICAgLyoqKioqKioqKioqKiAgRU5EIGJhc2U2NCAgKioqKioqKioqKioqL1xyXG5cclxuICAgICAgICB2YXIgeGhyID0gbXcuYWpheCh7XHJcbiAgICAgICAgICAgIHR5cGU6ICdQT1NUJyxcclxuICAgICAgICAgICAgdXJsOiBtdy5zZXR0aW5ncy5hcGlfdXJsICsgJ3NhdmVfZWRpdCcsXHJcbiAgICAgICAgICAgIGRhdGE6IGRhdGEsXHJcbiAgICAgICAgICAgIGRhdGFUeXBlOiBcImpzb25cIixcclxuICAgICAgICAgICAgc3VjY2VzczogZnVuY3Rpb24gKHNhdmVkX2RhdGEpIHtcclxuICAgICAgICAgICAgICAgIGlmKHNhdmVkX2RhdGEgJiYgc2F2ZWRfZGF0YS5uZXdfcGFnZV91cmwgJiYgIW13LmxpdmVFZGl0U2F2ZVNlcnZpY2UuRHJhZnRTYXZpbmcpe1xyXG4gICAgICAgICAgICAgICAgICAgIHdpbmRvdy5tdy5wYXJlbnQoKS5hc2t1c2VydG9zdGF5ID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgd2luZG93Lm13LmFza3VzZXJ0b3N0YXkgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICB3aW5kb3cubG9jYXRpb24uaHJlZiAgPSBzYXZlZF9kYXRhLm5ld19wYWdlX3VybDtcclxuXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgeGhyLmFsd2F5cyhmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgbXcubGl2ZUVkaXRTYXZlU2VydmljZS5zYXZpbmcgPSBmYWxzZTtcclxuICAgICAgICB9KTtcclxuICAgICAgICByZXR1cm4geGhyO1xyXG4gICAgfSxcclxuICAgIHBhcnNlQ29udGVudDogZnVuY3Rpb24ocm9vdCkge1xyXG4gICAgICAgIHJvb3QgPSByb290IHx8IGRvY3VtZW50LmJvZHk7XHJcbiAgICAgICAgdmFyIGRvYyA9IG13LnRvb2xzLnBhcnNlSHRtbChyb290LmlubmVySFRNTCk7XHJcbiAgICAgICAgbXcuJCgnLmVsZW1lbnQtY3VycmVudCcsIGRvYykucmVtb3ZlQ2xhc3MoJ2VsZW1lbnQtY3VycmVudCcpO1xyXG4gICAgICAgIG13LiQoJy5lbGVtZW50LWFjdGl2ZScsIGRvYykucmVtb3ZlQ2xhc3MoJ2VsZW1lbnQtYWN0aXZlJyk7XHJcbiAgICAgICAgbXcuJCgnLmRpc2FibGUtcmVzaXplJywgZG9jKS5yZW1vdmVDbGFzcygnZGlzYWJsZS1yZXNpemUnKTtcclxuICAgICAgICBtdy4kKCcubXctbW9kdWxlLWRyYWctY2xvbmUnLCBkb2MpLnJlbW92ZUNsYXNzKCdtdy1tb2R1bGUtZHJhZy1jbG9uZScpO1xyXG4gICAgICAgIG13LiQoJy51aS1kcmFnZ2FibGUnLCBkb2MpLnJlbW92ZUNsYXNzKCd1aS1kcmFnZ2FibGUnKTtcclxuICAgICAgICBtdy4kKCcudWktZHJhZ2dhYmxlLWhhbmRsZScsIGRvYykucmVtb3ZlQ2xhc3MoJ3VpLWRyYWdnYWJsZS1oYW5kbGUnKTtcclxuICAgICAgICBtdy4kKCcubXQtcmVhZHknLCBkb2MpLnJlbW92ZUNsYXNzKCdtdC1yZWFkeScpO1xyXG4gICAgICAgIG13LiQoJy5tdy13ZWJraXQtZHJhZy1ob3Zlci1iaW5kZWQnLCBkb2MpLnJlbW92ZUNsYXNzKCdtdy13ZWJraXQtZHJhZy1ob3Zlci1iaW5kZWQnKTtcclxuICAgICAgICBtdy4kKCcubW9kdWxlLWNhdC10b2dnbGUtTW9kdWxlcycsIGRvYykucmVtb3ZlQ2xhc3MoJ21vZHVsZS1jYXQtdG9nZ2xlLU1vZHVsZXMnKTtcclxuICAgICAgICBtdy4kKCcubXctbW9kdWxlLWRyYWctY2xvbmUnLCBkb2MpLnJlbW92ZUNsYXNzKCdtdy1tb2R1bGUtZHJhZy1jbG9uZScpO1xyXG4gICAgICAgIG13LiQoJy1tb2R1bGUnLCBkb2MpLnJlbW92ZUNsYXNzKCctbW9kdWxlJyk7XHJcbiAgICAgICAgbXcuJCgnLmVtcHR5LWVsZW1lbnQnLCBkb2MpLnJlbW92ZSgpO1xyXG4gICAgICAgIG13LiQoJy5lbXB0eS1lbGVtZW50JywgZG9jKS5yZW1vdmUoKTtcclxuICAgICAgICBtdy4kKCcuZWRpdCAudWktcmVzaXphYmxlLWhhbmRsZScsIGRvYykucmVtb3ZlKCk7XHJcbiAgICAgICAgbXcuJCgnc2NyaXB0JywgZG9jKS5yZW1vdmUoKTtcclxuXHJcbiAgICAgICAgLy92YXIgZG9jID0gbXcuJChkb2MpLmZpbmQoJ3NjcmlwdCcpLnJlbW92ZSgpO1xyXG5cclxuICAgICAgICBtdy50b29scy5jbGFzc05hbWVzcGFjZURlbGV0ZSgnYWxsJywgJ3VpLScsIGRvYywgJ3N0YXJ0cycpO1xyXG4gICAgICAgIG13LiQoXCJbY29udGVudGVkaXRhYmxlXVwiLCBkb2MpLnJlbW92ZUF0dHIoXCJjb250ZW50ZWRpdGFibGVcIik7XHJcbiAgICAgICAgdmFyIGFsbCA9IGRvYy5xdWVyeVNlbGVjdG9yQWxsKCdbY29udGVudGVkaXRhYmxlXScpLFxyXG4gICAgICAgICAgICBsID0gYWxsLmxlbmd0aCxcclxuICAgICAgICAgICAgaSA9IDA7XHJcbiAgICAgICAgZm9yICg7IGkgPCBsOyBpKyspIHtcclxuICAgICAgICAgICAgYWxsW2ldLnJlbW92ZUF0dHJpYnV0ZSgnY29udGVudGVkaXRhYmxlJyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHZhciBhbGwgPSBkb2MucXVlcnlTZWxlY3RvckFsbCgnLm1vZHVsZScpLFxyXG4gICAgICAgICAgICBsID0gYWxsLmxlbmd0aCxcclxuICAgICAgICAgICAgaSA9IDA7XHJcbiAgICAgICAgZm9yICg7IGkgPCBsOyBpKyspIHtcclxuICAgICAgICAgICAgaWYgKGFsbFtpXS5xdWVyeVNlbGVjdG9yKCcuZWRpdCcpID09PSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICBhbGxbaV0uaW5uZXJIVE1MID0gJyc7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGRvYztcclxuICAgIH0sXHJcbiAgICBodG1sQXR0clZhbGlkYXRlOmZ1bmN0aW9uKGVkaXRzKXtcclxuICAgICAgICB2YXIgZmluYWwgPSBbXTtcclxuICAgICAgICAkLmVhY2goZWRpdHMsIGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgICAgIHZhciBodG1sID0gdGhpcy5vdXRlckhUTUw7XHJcbiAgICAgICAgICAgIGh0bWwgPSBodG1sLnJlcGxhY2UoL3VybFxcKCZxdW90Oy9nLCBcInVybCgnXCIpO1xyXG4gICAgICAgICAgICBodG1sID0gaHRtbC5yZXBsYWNlKC9qcGcmcXVvdDsvZywgXCJqcGcnXCIpO1xyXG4gICAgICAgICAgICBodG1sID0gaHRtbC5yZXBsYWNlKC9qcGVnJnF1b3Q7L2csIFwianBlZydcIik7XHJcbiAgICAgICAgICAgIGh0bWwgPSBodG1sLnJlcGxhY2UoL3BuZyZxdW90Oy9nLCBcInBuZydcIik7XHJcbiAgICAgICAgICAgIGh0bWwgPSBodG1sLnJlcGxhY2UoL2dpZiZxdW90Oy9nLCBcImdpZidcIik7XHJcbiAgICAgICAgICAgIGZpbmFsLnB1c2goJChodG1sKVswXSk7XHJcbiAgICAgICAgfSlcclxuICAgICAgICByZXR1cm4gZmluYWw7XHJcbiAgICB9LFxyXG4gICAgY2xlYW5VbndhbnRlZFRhZ3M6IGZ1bmN0aW9uIChib2R5KSB7XHJcblxyXG5cclxuICAgICAgICBtdy4kKCcubXctc2tpcC1hbmQtcmVtb3ZlLHNjcmlwdCcsIGJvZHkpLnJlbW92ZSgpO1xyXG4gICAgICAgIHJldHVybiBib2R5O1xyXG4gICAgfSxcclxuICAgIGFuaW1hdGlvbnNDbGVhckZpeDpmdW5jdGlvbihib2R5KXtcclxuICAgICAgICBtdy4kKCdbY2xhc3MqPVwiYW5pbWF0ZV9fXCJdJykuZWFjaChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIG13LnRvb2xzLmNsYXNzTmFtZXNwYWNlRGVsZXRlKHRoaXMsICdhbmltYXRlX18nKTtcclxuICAgICAgICB9KTtcclxuICAgICAgICByZXR1cm4gYm9keTtcclxuICAgIH0sXHJcbiAgICBjb2xsZWN0RGF0YTogZnVuY3Rpb24oZWRpdHMpIHtcclxuICAgICAgICBtdy4kKGVkaXRzKS5lYWNoKGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgICAgIG13LiQoJ21ldGEnLCB0aGlzKS5yZW1vdmUoKTtcclxuICAgICAgICAgICAgJCgnLm13LWxlLXNwYWNlcicsIHRoaXMpLmVtcHR5KCkucmVtb3ZlQXR0cignZGF0YS1yZXNpemFibGUnKS5yZW1vdmVBdHRyKCdzdHlsZScpXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIGVkaXRzID0gdGhpcy5odG1sQXR0clZhbGlkYXRlKGVkaXRzKTtcclxuICAgICAgICB2YXIgbCA9IGVkaXRzLmxlbmd0aCxcclxuICAgICAgICAgICAgaSA9IDAsXHJcbiAgICAgICAgICAgIGhlbHBlciA9IHt9LFxyXG4gICAgICAgICAgICBtYXN0ZXIgPSB7fTtcclxuICAgICAgICBpZiAobCA+IDApIHtcclxuICAgICAgICAgICAgZm9yICg7IGkgPCBsOyBpKyspIHtcclxuICAgICAgICAgICAgICAgIGhlbHBlci5pdGVtID0gZWRpdHNbaV07XHJcbiAgICAgICAgICAgICAgICB2YXIgcmVsID0gbXcudG9vbHMubXdhdHRyKGhlbHBlci5pdGVtLCAncmVsJyk7XHJcbiAgICAgICAgICAgICAgICBpZiAoIXJlbCkge1xyXG4gICAgICAgICAgICAgICAgICAgIG13LiQoaGVscGVyLml0ZW0pLnJlbW92ZUNsYXNzKCdjaGFuZ2VkJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgbXcudG9vbHMuZm9yZWFjaFBhcmVudHMoaGVscGVyLml0ZW0sIGZ1bmN0aW9uKGxvb3ApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGNscyA9IHRoaXMuY2xhc3NOYW1lO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgcmVsID0gbXcudG9vbHMubXdhdHRyKHRoaXMsICdyZWwnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG13LnRvb2xzLmhhc0NsYXNzKGNscywgJ2VkaXQnKSAmJiBtdy50b29scy5oYXNDbGFzcyhjbHMsICdjaGFuZ2VkJykgJiYgKCEhcmVsKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaGVscGVyLml0ZW0gPSB0aGlzO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbXcudG9vbHMuc3RvcExvb3AobG9vcCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHZhciByZWwgPSBtdy50b29scy5td2F0dHIoaGVscGVyLml0ZW0sICdyZWwnKTtcclxuICAgICAgICAgICAgICAgIGlmICghcmVsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGZpZWxkID0gISFoZWxwZXIuaXRlbS5pZCA/ICcjJytoZWxwZXIuaXRlbS5pZCA6ICcnO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybignU2tpcHBlZCBzYXZlOiAuZWRpdCcrZmllbGQrJyBlbGVtZW50IGRvZXMgbm90IGhhdmUgcmVsIGF0dHJpYnV0ZS4nKTtcclxuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIG13LiQoaGVscGVyLml0ZW0pLnJlbW92ZUNsYXNzKCdjaGFuZ2VkIG9yaWdfY2hhbmdlZCcpO1xyXG4gICAgICAgICAgICAgICAgbXcuJChoZWxwZXIuaXRlbSkucmVtb3ZlQ2xhc3MoJ21vZHVsZS1vdmVyJyk7XHJcblxyXG4gICAgICAgICAgICAgICAgbXcuJCgnLm1vZHVsZS1vdmVyJywgaGVscGVyLml0ZW0pLmVhY2goZnVuY3Rpb24oKXtcclxuICAgICAgICAgICAgICAgICAgICBtdy4kKHRoaXMpLnJlbW92ZUNsYXNzKCdtb2R1bGUtb3ZlcicpO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICBtdy4kKCdbY2xhc3NdJywgaGVscGVyLml0ZW0pLmVhY2goZnVuY3Rpb24oKXtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgY2xzID0gdGhpcy5nZXRBdHRyaWJ1dGUoXCJjbGFzc1wiKTtcclxuICAgICAgICAgICAgICAgICAgICBpZih0eXBlb2YgY2xzID09PSAnc3RyaW5nJyl7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNscyA9IGNscy50cmltKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmKCFjbHMpe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnJlbW92ZUF0dHJpYnV0ZShcImNsYXNzXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgdmFyIGNvbnRlbnQgPSBtdy5saXZlRWRpdFNhdmVTZXJ2aWNlLmNsZWFuVW53YW50ZWRUYWdzKGhlbHBlci5pdGVtKS5pbm5lckhUTUw7XHJcbiAgICAgICAgICAgICAgICB2YXIgYXR0cl9vYmogPSB7fTtcclxuICAgICAgICAgICAgICAgIHZhciBhdHRycyA9IGhlbHBlci5pdGVtLmF0dHJpYnV0ZXM7XHJcbiAgICAgICAgICAgICAgICBpZiAoYXR0cnMubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBhaSA9IDAsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGFsID0gYXR0cnMubGVuZ3RoO1xyXG4gICAgICAgICAgICAgICAgICAgIGZvciAoOyBhaSA8IGFsOyBhaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGF0dHJfb2JqW2F0dHJzW2FpXS5ub2RlTmFtZV0gPSBhdHRyc1thaV0ubm9kZVZhbHVlO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHZhciBvYmogPSB7XHJcbiAgICAgICAgICAgICAgICAgICAgYXR0cmlidXRlczogYXR0cl9vYmosXHJcbiAgICAgICAgICAgICAgICAgICAgaHRtbDogY29udGVudFxyXG4gICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgIHZhciBvYmpkYXRhID0gXCJmaWVsZF9kYXRhX1wiICsgaTtcclxuICAgICAgICAgICAgICAgIG1hc3RlcltvYmpkYXRhXSA9IG9iajtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gbWFzdGVyO1xyXG4gICAgfSxcclxuICAgIGdldERhdGE6IGZ1bmN0aW9uKHJvb3QpIHtcclxuICAgICAgICB2YXIgYm9keSA9IG13LmxpdmVFZGl0U2F2ZVNlcnZpY2UucGFyc2VDb250ZW50KHJvb3QpLmJvZHksXHJcbiAgICAgICAgICAgIGVkaXRzID0gYm9keS5xdWVyeVNlbGVjdG9yQWxsKCcuZWRpdC5jaGFuZ2VkJyk7XHJcbiAgICAgICAgcmV0dXJuIG13LmxpdmVFZGl0U2F2ZVNlcnZpY2UuY29sbGVjdERhdGEoZWRpdHMpO1xyXG4gICAgfSxcclxuXHJcbiAgICBzYXZlRGlzYWJsZWQ6IGZhbHNlLFxyXG4gICAgZHJhZnREaXNhYmxlZDogZmFsc2UsXHJcbiAgICBzYXZlOiBhc3luYyBmdW5jdGlvbihkYXRhLCBzdWNjZXNzLCBmYWlsKSB7XHJcbiAgICAgICAgbXcudHJpZ2dlcignYmVmb3JlU2F2ZVN0YXJ0JywgZGF0YSk7XHJcbiAgICAgICAgLy8gdG9kbzpcclxuICAgICAgICBpZiAobXcubGl2ZWVkaXQgJiYgbXcubGl2ZWVkaXQuY3NzRWRpdG9yKSB7XHJcbiAgICAgICAgICAgIG13LmxpdmVlZGl0LmNzc0VkaXRvci5wdWJsaXNoSWZDaGFuZ2VkKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChtdy5saXZlRWRpdFNhdmVTZXJ2aWNlLnNhdmVEaXNhYmxlZCkgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIGlmKCFkYXRhKXtcclxuICAgICAgICAgICAgdmFyIGJvZHkgPSBtdy5saXZlRWRpdFNhdmVTZXJ2aWNlLnBhcnNlQ29udGVudCgpLmJvZHksXHJcbiAgICAgICAgICAgICAgICBlZGl0cyA9IGJvZHkucXVlcnlTZWxlY3RvckFsbCgnLmVkaXQuY2hhbmdlZCcpO1xyXG4gICAgICAgICAgICBkYXRhID0gbXcubGl2ZUVkaXRTYXZlU2VydmljZS5jb2xsZWN0RGF0YShlZGl0cyk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB2YXIgYW5pbWF0aW9ucyA9IChtdy5fX3BhZ2VBbmltYXRpb25zIHx8IFtdKS5maWx0ZXIoZnVuY3Rpb24gKGl0ZW0pIHtcclxuICAgICAgICAgICAgcmV0dXJuIGl0ZW0uYW5pbWF0aW9uICE9PSAnbm9uZSdcclxuICAgICAgICB9KVxyXG5cclxuICAgICAgICB2YXIgb3B0aW9ucyA9IHtcclxuICAgICAgICAgICAgZ3JvdXA6ICd0ZW1wbGF0ZScsXHJcbiAgICAgICAgICAgIGtleTogJ2FuaW1hdGlvbnMtZ2xvYmFsJyxcclxuICAgICAgICAgICAgdmFsdWU6IEpTT04uc3RyaW5naWZ5KGFuaW1hdGlvbnMpXHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgYXdhaXQgbmV3IFByb21pc2UocmVzb2x2ZSA9PiAge1xyXG4gICAgICAgICAgICBtdy5vcHRpb25zLnNhdmVPcHRpb24ob3B0aW9ucywgZnVuY3Rpb24oKXtcclxuICAgICAgICAgICAgICAgIHJlc29sdmUoKVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9KVxyXG5cclxuXHJcblxyXG4gICAgICAgIGlmIChtdy50b29scy5pc0VtcHR5T2JqZWN0KGRhdGEpKSB7XHJcbiAgICAgICAgICAgIGlmKHN1Y2Nlc3Mpe1xyXG4gICAgICAgICAgICAgICAgc3VjY2Vzcy5jYWxsKHt9KVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiBmYWxzZVxyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIG13Ll9saXZlZWRpdERhdGEgPSBkYXRhO1xyXG5cclxuICAgICAgICBtdy50cmlnZ2VyKCdzYXZlU3RhcnQnLCBtdy5fbGl2ZWVkaXREYXRhKTtcclxuXHJcbiAgICAgICAgdmFyIHhociA9IG13LmxpdmVFZGl0U2F2ZVNlcnZpY2UuY29yZVNhdmUobXcuX2xpdmVlZGl0RGF0YSk7XHJcbiAgICAgICAgeGhyLmVycm9yKGZ1bmN0aW9uKHNkYXRhKXtcclxuXHJcbiAgICAgICAgICAgIGlmKHhoci5zdGF0dXMgPT0gNDAzKXtcclxuICAgICAgICAgICAgICAgIHZhciBtb2RhbCA9IG13LmRpYWxvZyh7XHJcbiAgICAgICAgICAgICAgICAgICAgaWQgOiAnc2F2ZV9jb250ZW50X2Vycm9yX2lmcmFtZV9tb2RhbCcsXHJcbiAgICAgICAgICAgICAgICAgICAgaHRtbDpcIjxpZnJhbWUgaWQ9J3NhdmVfY29udGVudF9lcnJvcl9pZnJhbWUnIHN0eWxlPSdvdmVyZmxvdy14OmhpZGRlbjtvdmVyZmxvdy15OmF1dG87JyBjbGFzcz0nbXctbW9kYWwtZnJhbWUnID48L2lmcmFtZT5cIixcclxuICAgICAgICAgICAgICAgICAgICB3aWR0aDokKHdpbmRvdykud2lkdGgoKSAtIDkwLFxyXG4gICAgICAgICAgICAgICAgICAgIGhlaWdodDokKHdpbmRvdykuaGVpZ2h0KCkgLSA5MFxyXG4gICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAgICAgbXcuYXNrdXNlcnRvc3RheSA9IGZhbHNlO1xyXG5cclxuICAgICAgICAgICAgICAgIG13LiQoXCIjc2F2ZV9jb250ZW50X2Vycm9yX2lmcmFtZVwiKS5yZWFkeShmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgZG9jID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3NhdmVfY29udGVudF9lcnJvcl9pZnJhbWUnKS5jb250ZW50V2luZG93LmRvY3VtZW50O1xyXG4gICAgICAgICAgICAgICAgICAgIGRvYy5vcGVuKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgZG9jLndyaXRlKHhoci5yZXNwb25zZVRleHQpO1xyXG4gICAgICAgICAgICAgICAgICAgIGRvYy5jbG9zZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBzYXZlX2NvbnRlbnRfZXJyb3JfaWZyYW1lX3JlbG9hZHMgPSAwO1xyXG4gICAgICAgICAgICAgICAgICAgIGRvYyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzYXZlX2NvbnRlbnRfZXJyb3JfaWZyYW1lJykuY29udGVudFdpbmRvdy5kb2N1bWVudDtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgbXcuJChcIiNzYXZlX2NvbnRlbnRfZXJyb3JfaWZyYW1lXCIpLmxvYWQoZnVuY3Rpb24oKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gY2xvdWRmbGFyZSBjYXB0Y2hhXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBpc19jZiA9ICBtdy4kKCcuY2hhbGxlbmdlLWZvcm0nLGRvYykubGVuZ3RoO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzYXZlX2NvbnRlbnRfZXJyb3JfaWZyYW1lX3JlbG9hZHMrKztcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmKGlzX2NmICYmIHNhdmVfY29udGVudF9lcnJvcl9pZnJhbWVfcmVsb2FkcyA9PSAyKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtdy5hc2t1c2VydG9zdGF5ID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbXcuJCgnI3NhdmVfY29udGVudF9lcnJvcl9pZnJhbWVfbW9kYWwnKS5yZW1vdmUoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sIDE1MCk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYoZmFpbCl7XHJcbiAgICAgICAgICAgICAgICBmYWlsLmNhbGwoc2RhdGEpXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgICAgICB4aHIuc3VjY2VzcyhmdW5jdGlvbihzZGF0YSkge1xyXG4gICAgICAgICAgICBtdy4kKCcuZWRpdC5jaGFuZ2VkJykucmVtb3ZlQ2xhc3MoJ2NoYW5nZWQnKTtcclxuICAgICAgICAgICAgbXcuJCgnLm9yaWdfY2hhbmdlZCcpLnJlbW92ZUNsYXNzKCdvcmlnX2NoYW5nZWQnKTtcclxuICAgICAgICAgICAgaWYgKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5lZGl0LmNoYW5nZWQnKSAhPT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgbXcubGl2ZUVkaXRTYXZlU2VydmljZS5zYXZlKCk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBtdy5hc2t1c2VydG9zdGF5ID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICBtdy50cmlnZ2VyKCdzYXZlRW5kJywgc2RhdGEpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmKHN1Y2Nlc3Mpe1xyXG4gICAgICAgICAgICAgICAgc3VjY2Vzcy5jYWxsKHNkYXRhKVxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHhoci5mYWlsKGZ1bmN0aW9uKGpxWEhSLCB0ZXh0U3RhdHVzLCBlcnJvclRocm93bikge1xyXG4gICAgICAgICAgICBtdy50cmlnZ2VyKCdzYXZlRmFpbGVkJywgdGV4dFN0YXR1cywgZXJyb3JUaHJvd24pO1xyXG4gICAgICAgICAgICBpZihmYWlsKXtcclxuICAgICAgICAgICAgICAgIGZhaWwuY2FsbChzZGF0YSlcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHJldHVybiB4aHI7XHJcbiAgICB9LFxyXG5cclxufVxyXG5cclxuYWRkRXZlbnRMaXN0ZW5lcignbG9hZCcsICgpID0+IHtcclxuICAgIGNvbnN0IHNhdmUgPSBhc3luYyAoKSA9PiB7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlKSA9PiB7XHJcbiAgICAgICAgICAgIG13LmxpdmVFZGl0U2F2ZVNlcnZpY2Uuc2F2ZSh1bmRlZmluZWQsICgpID0+IHJlc29sdmUodHJ1ZSksICgpID0+IHJlc29sdmUoZmFsc2UpKTtcclxuICAgICAgICB9KVxyXG4gICAgfTtcclxuXHJcbiAgICBtdy50b3AoKS5hcHAuc2F2ZSA9IGFzeW5jICgpID0+IHtcclxuXHJcbiAgICAgICAgcmV0dXJuIGF3YWl0IHNhdmUoKVxyXG4gICAgfTtcclxuXHJcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIGZ1bmN0aW9uKGV2ZW50KXtcclxuICAgICAgICBtdy50b3AoKS5hcHAuY2FudmFzLmRpc3BhdGNoKCdpZnJhbWVLZXlEb3duJywge2V2ZW50fSlcclxuICAgIH0pXHJcblxyXG59KVxyXG5cclxuc2VsZi5vbmJlZm9yZXVubG9hZCA9IGZ1bmN0aW9uKGV2ZW50KSB7XHJcbiAgICAvLyBwcmV2ZW50IHVzZXIgZnJvbSBsZWF2aW5nIGlmIHRoZXJlIGFyZSB1bnNhdmVkIGNoYW5nZXNcclxuICAgIHZhciBsaXZlRWRpdElmcmFtZSA9IChtdy50b3AoKS5hcHAuY2FudmFzLmdldFdpbmRvdygpKTtcclxuICAgIGlmIChsaXZlRWRpdElmcmFtZVxyXG4gICAgICAgICYmIGxpdmVFZGl0SWZyYW1lLm13ICYmIGxpdmVFZGl0SWZyYW1lLm13LmFza3VzZXJ0b3N0YXkpIHtcclxuICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgICAgbXcudG9wKCkuc3Bpbm5lcih7ZWxlbWVudDogbXcudG9wKCkuYXBwLmNhbnZhcy5nZXRGcmFtZSgpLnBhcmVudEVsZW1lbnQsIGRlY29yYXRlOiB0cnVlLCBzaXplOiA1Mn0pLnNob3coKVxyXG4gICAgfVxyXG59O1xyXG4iXSwibmFtZXMiOlsiZGF0YSIsImJvZHkiLCJtYXRjaCIsInAxIiwieGhyIiwic2F2ZWRfZGF0YSIsInJvb3QiLCJkb2MiLCJhbGwiLCJsIiwiZWRpdHMiLCJmaW5hbCIsImh0bWwiLCJpIiwiaGVscGVyIiwibWFzdGVyIiwicmVsIiwibG9vcCIsImNscyIsImZpZWxkIiwiY29udGVudCIsImF0dHJfb2JqIiwiYXR0cnMiLCJhaSIsImFsIiwib2JqIiwib2JqZGF0YSIsInN1Y2Nlc3MiLCJmYWlsIiwiYW5pbWF0aW9ucyIsIml0ZW0iLCJvcHRpb25zIiwicmVzb2x2ZSIsInNkYXRhIiwic2F2ZV9jb250ZW50X2Vycm9yX2lmcmFtZV9yZWxvYWRzIiwiaXNfY2YiLCJqcVhIUiIsInRleHRTdGF0dXMiLCJlcnJvclRocm93biIsInNhdmUiLCJldmVudCIsImxpdmVFZGl0SWZyYW1lIl0sIm1hcHBpbmdzIjoiQUFDQSxHQUFHLFFBQVEsWUFBWSxFQUN2QixHQUFHLFFBQVEsY0FBYyxFQUd6QixHQUFHLG9CQUFzQixDQUNwQixhQUFhLFNBQVNBLEVBQUssQ0FFeEIsVUFBRyxFQUFFLGdCQUFpQkEsQ0FBSSxFQUFFLE9BQU0sRUFDbEMsR0FBRyxFQUFFLGlCQUFrQkEsQ0FBSSxFQUFFLE9BQU0sRUFDbkMsR0FBRyxFQUFFLFFBQVNBLENBQUksRUFBRSxLQUFLLFVBQVUsQ0FDL0IsR0FBRyxFQUFFLElBQUksRUFBRSxZQUFZLEtBQUssU0FBUyxDQUNqRCxDQUFTLEVBQ0QsR0FBRyxFQUFFLGtCQUFtQkEsQ0FBSSxFQUFFLFdBQVcsZUFBZSxFQUN4RCxHQUFHLEVBQUUsZUFBZ0JBLENBQUksRUFBRSxXQUFXLFlBQVksRUFDbEQsR0FBRyxFQUFFLGtCQUFtQkEsQ0FBSSxFQUFFLFdBQVcsZUFBZSxFQUN4RCxHQUFHLEVBQUUsaUJBQWtCQSxDQUFJLEVBQUUsT0FBTSxFQUNuQyxHQUFHLEVBQUUseUJBQTBCQSxDQUFJLEVBQUUsT0FBTSxFQUMzQyxHQUFHLEVBQUUsbUJBQW9CQSxDQUFJLEVBQUUsT0FB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
