var Dt=Object.defineProperty;var Mt=(i,e,t)=>e in i?Dt(i,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):i[e]=t;var N=(i,e,t)=>(Mt(i,typeof e!="symbol"?e+"":e,t),t),Ce=(i,e,t)=>{if(!e.has(i))throw TypeError("Cannot "+t)};var g=(i,e,t)=>(Ce(i,e,"read from private field"),t?t.call(i):e.get(i)),E=(i,e,t)=>{if(e.has(i))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(i):e.set(i,t)},j=(i,e,t,n)=>(Ce(i,e,"write to private field"),n?n.call(i,t):e.set(i,t),t);var A=(i,e,t)=>(Ce(i,e,"access private method"),t);var S;class ye{constructor(){E(this,S,{})}on(e,t){g(this,S)[e]?g(this,S)[e].push(t):g(this,S)[e]=[t]}off(e,t){if(g(this,S)[e])if(typeof t=="function"){const n=g(this,S)[e].indexOf(t);if(n===-1)return;g(this,S)[e].splice(n,1)}else g(this,S)[e]=[]}dispatch(e,t){g(this,S)[e]&&g(this,S)[e].forEach(function(n){n.call(this,t)})}emit(e,t){return this.dispatch(e,t)}}S=new WeakMap;var O,W,ce;class Bt extends ye{constructor(){super(...arguments);E(this,W);E(this,O,{})}call(t,n){for(let s in g(this,O))g(this,O)[s][t]&&A(this,W,ce).call(this,t,g(this,O)[s],n)}get(t){return g(this,O)[t]}getModules(){return g(this,O)}register(t,n){let s;typeof n=="function"?s=new n:s=n,g(this,O)[t]=s,this[t]=s,A(this,W,ce).call(this,"onRegister",s),this.dispatch("register")}remove(t){let n;if(typeof t=="string"&&(n=t,t=this.get(t)),!n){for(let s in g(this,O))if(g(this,O)[s]===t){n=s;break}}delete g(this,O)[n],delete this[n],A(this,W,ce).call(this,"onDestroy",t),this.dispatch("remove")}}O=new WeakMap,W=new WeakSet,ce=function(t,n,s){!t||!n||!n[t]||(t=n[t],t(s))};mw.require("editor.js");mw.require("css_parser.js");const Si=function(){var i=document.querySelector("#mw-live-edit-editor"),e=function(){var c={};this.on=function(l,u){c[l]?c[l].push(u):c[l]=[u]},this.dispatch=function(l,u){c[l]&&c[l].forEach(function(f){f.call(this,u)})},this.provide=function(l){this.dispatch("change",l.map(function(u){return{label:u,value:u}}))}},t=new e;window.fontFamilyProvider=t;const n=mw.app.get("canvas").getFrame();n.contentWindow.fontFamilyProvider=t;const s=mw.Editor({document:n.contentWindow.document,executionDocument:n.contentWindow.document,actionWindow:n.contentWindow,element:i,mode:"document",notEditableClasses:["module"],regions:".edit",skin:"le2",editMode:"liveedit",scopeColor:"white",controls:[[{group:{icon:"mdi mdi-format-title",controls:["format","lineHeight"]}},{group:{controller:"bold",controls:["italic","underline","strikeThrough","removeFormat"]}},"fontSelector","fontSize",{group:{controller:"alignLeft",controls:["alignLeft","alignCenter","alignRight","alignJustify"]}},{group:{controller:"ul",controls:["ol"]}},"image",{group:{controller:"link",controls:["unlink"]}},{group:{controller:"textColor",controls:["textBackgroundColor"]}}]],smallEditorPositionX:"center",smallEditorSkin:"lite",interactionControls:[],id:"live-edit-wysiwyg-editor",minHeight:250,maxHeight:"70vh",state:mw.liveEditState,fontFamilyProvider:t});var o=document.getElementById("toolbar-undo"),r=document.getElementById("toolbar-redo");s.state.on("record",function(){r.disabled=!s.state.hasPrev,o.disabled=!s.state.hasNext}),s.state.on("change",function(){r.disabled=!s.state.hasPrev,o.disabled=!s.state.hasNext}),o&&o.addEventListener("click",function(){s.state.undo()}),r&&r.addEventListener("click",function(){s.state.redo()}),i.innerHTML="",i.appendChild(s.wrapper);var a=s.storage.get(s.settings.id+"-small-editor-pinned");typeof a>"u"&&typeof s.smallEditorApi<"u"&&s.smallEditorApi.pin(),mw.app.register("richTextEditor",s),mw.app.register("richTextEditorAPI",s.api)};function rt(i,e){return function(){return i.apply(e,arguments)}}const{toString:at}=Object.prototype,{getPrototypeOf:Pe}=Object,Ie=(i=>e=>{const t=at.call(e);return i[t]||(i[t]=t.slice(8,-1).toLowerCase())})(Object.create(null)),R=i=>(i=i.toLowerCase(),e=>Ie(e)===i),be=i=>e=>typeof e===i,{isArray:G}=Array,Q=be("undefined");function zt(i){return i!==null&&!Q(i)&&i.constructor!==null&&!Q(i.constructor)&&I(i.constructor.isBuffer)&&i.constructor.isBuffer(i)}const lt=R("ArrayBuffer");function Pt(i){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(i):e=i&&i.buffer&&lt(i.buffer),e}const It=be("string"),I=be("function"),ct=be("number"),Fe=i=>i!==null&&typeof i=="object",Ft=i=>i===!0||i===!1,de=i=>{if(Ie(i)!=="object")return!1;const e=Pe(i);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in i)&&!(Symbol.iterator in i)},Vt=R("Date"),Ut=R("File"),jt=R("Blob"),Wt=R("FileList"),qt=i=>Fe(i)&&I(i.pipe),$t=i=>{const e="[object FormData]";return i&&(typeof FormData=="function"&&i instanceof FormData||at.call(i)===e||I(i.toString)&&i.toString()===e)},Yt=R("URLSearchParams"),Jt=i=>i.trim?i.trim():i.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function ie(i,e,{allOwnKeys:t=!1}={}){if(i===null||typeof i>"u")return;let n,s;if(typeof i!="object"&&(i=[i]),G(i))for(n=0,s=i.length;n<s;n++)e.call(null,i[n],n,i);else{const o=t?Object.getOwnPropertyNames(i):Object.keys(i),r=o.length;let a;for(n=0;n<r;n++)a=o[n],e.call(null,i[a],a,i)}}function dt(i,e){e=e.toLowerCase();const t=Object.keys(i);let n=t.length,s;for(;n-- >0;)if(s=t[n],e===s.toLowerCase())return s;return null}const ut=(()=>typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global)(),ht=i=>!Q(i)&&i!==ut;function Ae(){const{caseless:i}=ht(this)&&this||{},e={},t=(n,s)=>{const o=i&&dt(e,s)||s;de(e[o])&&de(n)?e[o]=Ae(e[o],n):de(n)?e[o]=Ae({},n):G(n)?e[o]=n.slice():e[o]=n};for(let n=0,s=arguments.length;n<s;n++)arguments[n]&&ie(arguments[n],t);return e}const Xt=(i,e,t,{allOwnKeys:n}={})=>(ie(e,(s,o)=>{t&&I(s)?i[o]=rt(s,t):i[o]=s},{allOwnKeys:n}),i),Gt=i=>(i.charCodeAt(0)===65279&&(i=i.slice(1)),i),Kt=(i,e,t,n)=>{i.prototype=Object.create(e.prototype,n),i.prototype.constructor=i,Object.defineProperty(i,"super",{value:e.prototype}),t&&Object.assign(i.prototype,t)},Zt=(i,e,t,n)=>{let s,o,r;const a={};if(e=e||{},i==null)return e;do{for(s=Object.getOwnPropertyNames(i),o=s.length;o-- >0;)r=s[o],(!n||n(r,i,e))&&!a[r]&&(e[r]=i[r],a[r]=!0);i=t!==!1&&Pe(i)}while(i&&(!t||t(i,e))&&i!==Object.prototype);return e},Qt=(i,e,t)=>{i=String(i),(t===void 0||t>i.length)&&(t=i.length),t-=e.length;const n=i.indexOf(e,t);return n!==-1&&n===t},en=i=>{if(!i)return null;if(G(i))return i;let e=i.length;if(!ct(e))return null;const t=new Array(e);for(;e-- >0;)t[e]=i[e];return t},tn=(i=>e=>i&&e instanceof i)(typeof Uint8Array<"u"&&Pe(Uint8Array)),nn=(i,e)=>{const n=(i&&i[Symbol.iterator]).call(i);let s;for(;(s=n.next())&&!s.done;){const o=s.value;e.call(i,o[0],o[1])}},sn=(i,e)=>{let t;const n=[];for(;(t=i.exec(e))!==null;)n.push(t);return n},on=R("HTMLFormElement"),rn=i=>i.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(t,n,s){return n.toUpperCase()+s}),$e=(({hasOwnProperty:i})=>(e,t)=>i.call(e,t))(Object.prototype),an=R("RegExp"),mt=(i,e)=>{const t=Object.getOwnPropertyDescriptors(i),n={};ie(t,(s,o)=>{e(s,o,i)!==!1&&(n[o]=s)}),Object.defineProperties(i,n)},ln=i=>{mt(i,(e,t)=>{if(I(i)&&["arguments","caller","callee"].indexOf(t)!==-1)return!1;const n=i[t];if(I(n)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+t+"'")})}})},cn=(i,e)=>{const t={},n=s=>{s.forEach(o=>{t[o]=!0})};return G(i)?n(i):n(String(i).split(e)),t},dn=()=>{},un=(i,e)=>(i=+i,Number.isFinite(i)?i:e),Le="abcdefghijklmnopqrstuvwxyz",Ye="0123456789",ft={DIGIT:Ye,ALPHA:Le,ALPHA_DIGIT:Le+Le.toUpperCase()+Ye},hn=(i=16,e=ft.ALPHA_DIGIT)=>{let t="";const{length:n}=e;for(;i--;)t+=e[Math.random()*n|0];return t};function mn(i){return!!(i&&I(i.append)&&i[Symbol.toStringTag]==="FormData"&&i[Symbol.iterator])}const fn=i=>{const e=new Array(10),t=(n,s)=>{if(Fe(n)){if(e.indexOf(n)>=0)return;if(!("toJSON"in n)){e[s]=n;const o=G(n)?[]:{};return ie(n,(r,a)=>{const c=t(r,s+1);!Q(c)&&(o[a]=c)}),e[s]=void 0,o}}return n};return t(i,0)},d={isArray:G,isArrayBuffer:lt,isBuffer:zt,isFormData:$t,isArrayBufferView:Pt,isString:It,isNumber:ct,isBoolean:Ft,isObject:Fe,isPlainObject:de,isUndefined:Q,isDate:Vt,isFile:Ut,isBlob:jt,isRegExp:an,isFunction:I,isStream:qt,isURLSearchParams:Yt,isTypedArray:tn,isFileList:Wt,forEach:ie,merge:Ae,extend:Xt,trim:Jt,stripBOM:Gt,inherits:Kt,toFlatObject:Zt,kindOf:Ie,kindOfTest:R,endsWith:Qt,toArray:en,forEachEntry:nn,matchAll:sn,isHTMLForm:on,hasOwnProperty:$e,hasOwnProp:$e,reduceDescriptors:mt,freezeMethods:ln,toObjectSet:cn,toCamelCase:rn,noop:dn,toFiniteNumber:un,findKey:dt,global:ut,isContextDefined:ht,ALPHABET:ft,generateString:hn,isSpecCompliantForm:mn,toJSONObject:fn};function b(i,e,t,n,s){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=i,this.name="AxiosError",e&&(this.code=e),t&&(this.config=t),n&&(this.request=n),s&&(this.response=s)}d.inherits(b,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:d.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const pt=b.prototype,gt={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(i=>{gt[i]={value:i}});Object.defineProperties(b,gt);Object.defineProperty(pt,"isAxiosError",{value:!0});b.from=(i,e,t,n,s,o)=>{const r=Object.create(pt);return d.toFlatObject(i,r,function(c){return c!==Error.prototype},a=>a!=="isAxiosError"),b.call(r,i.message,e,t,n,s),r.cause=i,r.name=i.name,o&&Object.assign(r,o),r};const pn=null;function Te(i){return d.isPlainObject(i)||d.isArray(i)}function wt(i){return d.endsWith(i,"[]")?i.slice(0,-2):i}function Je(i,e,t){return i?i.concat(e).map(function(s,o){return s=wt(s),!t&&o?"["+s+"]":s}).join(t?".":""):e}function gn(i){return d.isArray(i)&&!i.some(Te)}const wn=d.toFlatObject(d,{},null,function(e){return/^is[A-Z]/.test(e)});function ve(i,e,t){if(!d.isObject(i))throw new TypeError("target must be an object");e=e||new FormData,t=d.toFlatObject(t,{metaTokens:!0,dots:!1,indexes:!1},!1,function(p,C){return!d.isUndefined(C[p])});const n=t.metaTokens,s=t.visitor||u,o=t.dots,r=t.indexes,c=(t.Blob||typeof Blob<"u"&&Blob)&&d.isSpecCompliantForm(e);if(!d.isFunction(s))throw new TypeError("visitor must be a function");function l(h){if(h===null)return"";if(d.isDate(h))return h.toISOString();if(!c&&d.isBlob(h))throw new b("Blob is not supported. Use a Buffer instead.");return d.isArrayBuffer(h)||d.isTypedArray(h)?c&&typeof Blob=="function"?new Blob([h]):Buffer.from(h):h}function u(h,p,C){let x=h;if(h&&!C&&typeof h=="object"){if(d.endsWith(p,"{}"))p=n?p:p.slice(0,-2),h=JSON.stringify(h);else if(d.isArray(h)&&gn(h)||(d.isFileList(h)||d.endsWith(p,"[]"))&&(x=d.toArray(h)))return p=wt(p),x.forEach(function(oe,Rt){!(d.isUndefined(oe)||oe===null)&&e.append(r===!0?Je([p],Rt,o):r===null?p:p+"[]",l(oe))}),!1}return Te(h)?!0:(e.append(Je(C,p,o),l(h)),!1)}const f=[],w=Object.assign(wn,{defaultVisitor:u,convertValue:l,isVisitable:Te});function m(h,p){if(!d.isUndefined(h)){if(f.indexOf(h)!==-1)throw Error("Circular reference detected in "+p.join("."));f.push(h),d.forEach(h,function(x,U){(!(d.isUndefined(x)||x===null)&&s.call(e,x,d.isString(U)?U.trim():U,p,w))===!0&&m(x,p?p.concat(U):[U])}),f.pop()}}if(!d.isObject(i))throw new TypeError("data must be an object");return m(i),e}function Xe(i){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(i).replace(/[!'()~]|%20|%00/g,function(n){return e[n]})}function Ve(i,e){this._pairs=[],i&&ve(i,this,e)}const yt=Ve.prototype;yt.append=function(e,t){this._pairs.push([e,t])};yt.toString=function(e){const t=e?function(n){return e.call(this,n,Xe)}:Xe;return this._pairs.map(function(s){return t(s[0])+"="+t(s[1])},"").join("&")};function yn(i){return encodeURIComponent(i).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function bt(i,e,t){if(!e)return i;const n=t&&t.encode||yn,s=t&&t.serialize;let o;if(s?o=s(e,t):o=d.isURLSearchParams(e)?e.toString():new Ve(e,t).toString(n),o){const r=i.indexOf("#");r!==-1&&(i=i.slice(0,r)),i+=(i.indexOf("?")===-1?"?":"&")+o}return i}class bn{constructor(){this.handlers=[]}use(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){d.forEach(this.handlers,function(n){n!==null&&e(n)})}}const Ge=bn,vt={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},vn=typeof URLSearchParams<"u"?URLSearchParams:Ve,xn=typeof FormData<"u"?FormData:null,En=typeof Blob<"u"?Blob:null,Cn=(()=>{let i;return typeof navigator<"u"&&((i=navigator.product)==="ReactNative"||i==="NativeScript"||i==="NS")?!1:typeof window<"u"&&typeof document<"u"})(),Ln=(()=>typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function")(),_={isBrowser:!0,classes:{URLSearchParams:vn,FormData:xn,Blob:En},isStandardBrowserEnv:Cn,isStandardBrowserWebWorkerEnv:Ln,protocols:["http","https","file","blob","url","data"]};function Nn(i,e){return ve(i,new _.classes.URLSearchParams,Object.assign({visitor:function(t,n,s,o){return _.isNode&&d.isBuffer(t)?(this.append(n,t.toString("base64")),!1):o.defaultVisitor.apply(this,arguments)}},e))}function Sn(i){return d.matchAll(/\w+|\[(\w*)]/g,i).map(e=>e[0]==="[]"?"":e[1]||e[0])}function On(i){const e={},t=Object.keys(i);let n;const s=t.length;let o;for(n=0;n<s;n++)o=t[n],e[o]=i[o];return e}function xt(i){function e(t,n,s,o){let r=t[o++];const a=Number.isFinite(+r),c=o>=t.length;return r=!r&&d.isArray(s)?s.length:r,c?(d.hasOwnProp(s,r)?s[r]=[s[r],n]:s[r]=n,!a):((!s[r]||!d.isObject(s[r]))&&(s[r]=[]),e(t,n,s[r],o)&&d.isArray(s[r])&&(s[r]=On(s[r])),!a)}if(d.isFormData(i)&&d.isFunction(i.entries)){const t={};return d.forEachEntry(i,(n,s)=>{e(Sn(n),s,t,0)}),t}return null}const An={"Content-Type":void 0};function Tn(i,e,t){if(d.isString(i))try{return(e||JSON.parse)(i),d.trim(i)}catch(n){if(n.name!=="SyntaxError")throw n}return(t||JSON.stringify)(i)}const xe={transitional:vt,adapter:["xhr","http"],transformRequest:[function(e,t){const n=t.getContentType()||"",s=n.indexOf("application/json")>-1,o=d.isObject(e);if(o&&d.isHTMLForm(e)&&(e=new FormData(e)),d.isFormData(e))return s&&s?JSON.stringify(xt(e)):e;if(d.isArrayBuffer(e)||d.isBuffer(e)||d.isStream(e)||d.isFile(e)||d.isBlob(e))return e;if(d.isArrayBufferView(e))return e.buffer;if(d.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let a;if(o){if(n.indexOf("application/x-www-form-urlencoded")>-1)return Nn(e,this.formSerializer).toString();if((a=d.isFileList(e))||n.indexOf("multipart/form-data")>-1){const c=this.env&&this.env.FormData;return ve(a?{"files[]":e}:e,c&&new c,this.formSerializer)}}return o||s?(t.setContentType("application/json",!1),Tn(e)):e}],transformResponse:[function(e){const t=this.transitional||xe.transitional,n=t&&t.forcedJSONParsing,s=this.responseType==="json";if(e&&d.isString(e)&&(n&&!this.responseType||s)){const r=!(t&&t.silentJSONParsing)&&s;try{return JSON.parse(e)}catch(a){if(r)throw a.name==="SyntaxError"?b.from(a,b.ERR_BAD_RESPONSE,this,null,this.response):a}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:_.classes.FormData,Blob:_.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};d.forEach(["delete","get","head"],function(e){xe.headers[e]={}});d.forEach(["post","put","patch"],function(e){xe.headers[e]=d.merge(An)});const Ue=xe,_n=d.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),kn=i=>{const e={};let t,n,s;return i&&i.split(`
`).forEach(function(r){s=r.indexOf(":"),t=r.substring(0,s).trim().toLowerCase(),n=r.substring(s+1).trim(),!(!t||e[t]&&_n[t])&&(t==="set-cookie"?e[t]?e[t].push(n):e[t]=[n]:e[t]=e[t]?e[t]+", "+n:n)}),e},Ke=Symbol("internals");function K(i){return i&&String(i).trim().toLowerCase()}function ue(i){return i===!1||i==null?i:d.isArray(i)?i.map(ue):String(i)}function Hn(i){const e=Object.create(null),t=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=t.exec(i);)e[n[1]]=n[2];return e}function Rn(i){return/^[-_a-zA-Z]+$/.test(i.trim())}function Ne(i,e,t,n,s){if(d.isFunction(n))return n.call(this,e,t);if(s&&(e=t),!!d.isString(e)){if(d.isString(n))return e.indexOf(n)!==-1;if(d.isRegExp(n))return n.test(e)}}function Dn(i){return i.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,t,n)=>t.toUpperCase()+n)}function Mn(i,e){const t=d.toCamelCase(" "+e);["get","set","has"].forEach(n=>{Object.defineProperty(i,n+t,{value:function(s,o,r){return this[n].call(this,e,s,o,r)},configurable:!0})})}class Ee{constructor(e){e&&this.set(e)}set(e,t,n){const s=this;function o(a,c,l){const u=K(c);if(!u)throw new Error("header name must be a non-empty string");const f=d.findKey(s,u);(!f||s[f]===void 0||l===!0||l===void 0&&s[f]!==!1)&&(s[f||c]=ue(a))}const r=(a,c)=>d.forEach(a,(l,u)=>o(l,u,c));return d.isPlainObject(e)||e instanceof this.constructor?r(e,t):d.isString(e)&&(e=e.trim())&&!Rn(e)?r(kn(e),t):e!=null&&o(t,e,n),this}get(e,t){if(e=K(e),e){const n=d.findKey(this,e);if(n){const s=this[n];if(!t)return s;if(t===!0)return Hn(s);if(d.isFunction(t))return t.call(this,s,n);if(d.isRegExp(t))return t.exec(s);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=K(e),e){const n=d.findKey(this,e);return!!(n&&this[n]!==void 0&&(!t||Ne(this,this[n],n,t)))}return!1}delete(e,t){const n=this;let s=!1;function o(r){if(r=K(r),r){const a=d.findKey(n,r);a&&(!t||Ne(n,n[a],a,t))&&(delete n[a],s=!0)}}return d.isArray(e)?e.forEach(o):o(e),s}clear(e){const t=Object.keys(this);let n=t.length,s=!1;for(;n--;){const o=t[n];(!e||Ne(this,this[o],o,e,!0))&&(delete this[o],s=!0)}return s}normalize(e){const t=this,n={};return d.forEach(this,(s,o)=>{const r=d.findKey(n,o);if(r){t[r]=ue(s),delete t[o];return}const a=e?Dn(o):String(o).trim();a!==o&&delete t[o],t[a]=ue(s),n[a]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const t=Object.create(null);return d.forEach(this,(n,s)=>{n!=null&&n!==!1&&(t[s]=e&&d.isArray(n)?n.join(", "):n)}),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,t])=>e+": "+t).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...t){const n=new this(e);return t.forEach(s=>n.set(s)),n}static accessor(e){const n=(this[Ke]=this[Ke]={accessors:{}}).accessors,s=this.prototype;function o(r){const a=K(r);n[a]||(Mn(s,r),n[a]=!0)}return d.isArray(e)?e.forEach(o):o(e),this}}Ee.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);d.freezeMethods(Ee.prototype);d.freezeMethods(Ee);const H=Ee;function Se(i,e){const t=this||Ue,n=e||t,s=H.from(n.headers);let o=n.data;return d.forEach(i,function(a){o=a.call(t,o,s.normalize(),e?e.status:void 0)}),s.normalize(),o}function Et(i){return!!(i&&i.__CANCEL__)}function se(i,e,t){b.call(this,i??"canceled",b.ERR_CANCELED,e,t),this.name="CanceledError"}d.inherits(se,b,{__CANCEL__:!0});function Bn(i,e,t){const n=t.config.validateStatus;!t.status||!n||n(t.status)?i(t):e(new b("Request failed with status code "+t.status,[b.ERR_BAD_REQUEST,b.ERR_BAD_RESPONSE][Math.floor(t.status/100)-4],t.config,t.request,t))}const zn=_.isStandardBrowserEnv?function(){return{write:function(t,n,s,o,r,a){const c=[];c.push(t+"="+encodeURIComponent(n)),d.isNumber(s)&&c.push("expires="+new Date(s).toGMTString()),d.isString(o)&&c.push("path="+o),d.isString(r)&&c.push("domain="+r),a===!0&&c.push("secure"),document.cookie=c.join("; ")},read:function(t){const n=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return n?decodeURIComponent(n[3]):null},remove:function(t){this.write(t,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}();function Pn(i){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(i)}function In(i,e){return e?i.replace(/\/+$/,"")+"/"+e.replace(/^\/+/,""):i}function Ct(i,e){return i&&!Pn(e)?In(i,e):e}const Fn=_.isStandardBrowserEnv?function(){const e=/(msie|trident)/i.test(navigator.userAgent),t=document.createElement("a");let n;function s(o){let r=o;return e&&(t.setAttribute("href",r),r=t.href),t.setAttribute("href",r),{href:t.href,protocol:t.protocol?t.protocol.replace(/:$/,""):"",host:t.host,search:t.search?t.search.replace(/^\?/,""):"",hash:t.hash?t.hash.replace(/^#/,""):"",hostname:t.hostname,port:t.port,pathname:t.pathname.charAt(0)==="/"?t.pathname:"/"+t.pathname}}return n=s(window.location.href),function(r){const a=d.isString(r)?s(r):r;return a.protocol===n.protocol&&a.host===n.host}}():function(){return function(){return!0}}();function Vn(i){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(i);return e&&e[1]||""}function Un(i,e){i=i||10;const t=new Array(i),n=new Array(i);let s=0,o=0,r;return e=e!==void 0?e:1e3,function(c){const l=Date.now(),u=n[o];r||(r=l),t[s]=c,n[s]=l;let f=o,w=0;for(;f!==s;)w+=t[f++],f=f%i;if(s=(s+1)%i,s===o&&(o=(o+1)%i),l-r<e)return;const m=u&&l-u;return m?Math.round(w*1e3/m):void 0}}function Ze(i,e){let t=0;const n=Un(50,250);return s=>{const o=s.loaded,r=s.lengthComputable?s.total:void 0,a=o-t,c=n(a),l=o<=r;t=o;const u={loaded:o,total:r,progress:r?o/r:void 0,bytes:a,rate:c||void 0,estimated:c&&r&&l?(r-o)/c:void 0,event:s};u[e?"download":"upload"]=!0,i(u)}}const jn=typeof XMLHttpRequest<"u",Wn=jn&&function(i){return new Promise(function(t,n){let s=i.data;const o=H.from(i.headers).normalize(),r=i.responseType;let a;function c(){i.cancelToken&&i.cancelToken.unsubscribe(a),i.signal&&i.signal.removeEventListener("abort",a)}d.isFormData(s)&&(_.isStandardBrowserEnv||_.isStandardBrowserWebWorkerEnv)&&o.setContentType(!1);let l=new XMLHttpRequest;if(i.auth){const m=i.auth.username||"",h=i.auth.password?unescape(encodeURIComponent(i.auth.password)):"";o.set("Authorization","Basic "+btoa(m+":"+h))}const u=Ct(i.baseURL,i.url);l.open(i.method.toUpperCase(),bt(u,i.params,i.paramsSerializer),!0),l.timeout=i.timeout;function f(){if(!l)return;const m=H.from("getAllResponseHeaders"in l&&l.getAllResponseHeaders()),p={data:!r||r==="text"||r==="json"?l.responseText:l.response,status:l.status,statusText:l.statusText,headers:m,config:i,request:l};Bn(function(x){t(x),c()},function(x){n(x),c()},p),l=null}if("onloadend"in l?l.onloadend=f:l.onreadystatechange=function(){!l||l.readyState!==4||l.status===0&&!(l.responseURL&&l.responseURL.indexOf("file:")===0)||setTimeout(f)},l.onabort=function(){l&&(n(new b("Request aborted",b.ECONNABORTED,i,l)),l=null)},l.onerror=function(){n(new b("Network Error",b.ERR_NETWORK,i,l)),l=null},l.ontimeout=function(){let h=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const p=i.transitional||vt;i.timeoutErrorMessage&&(h=i.timeoutErrorMessage),n(new b(h,p.clarifyTimeoutError?b.ETIMEDOUT:b.ECONNABORTED,i,l)),l=null},_.isStandardBrowserEnv){const m=(i.withCredentials||Fn(u))&&i.xsrfCookieName&&zn.read(i.xsrfCookieName);m&&o.set(i.xsrfHeaderName,m)}s===void 0&&o.setContentType(null),"setRequestHeader"in l&&d.forEach(o.toJSON(),function(h,p){l.setRequestHeader(p,h)}),d.isUndefined(i.withCredentials)||(l.withCredentials=!!i.withCredentials),r&&r!=="json"&&(l.responseType=i.responseType),typeof i.onDownloadProgress=="function"&&l.addEventListener("progress",Ze(i.onDownloadProgress,!0)),typeof i.onUploadProgress=="function"&&l.upload&&l.upload.addEventListener("progress",Ze(i.onUploadProgress)),(i.cancelToken||i.signal)&&(a=m=>{l&&(n(!m||m.type?new se(null,i,l):m),l.abort(),l=null)},i.cancelToken&&i.cancelToken.subscribe(a),i.signal&&(i.signal.aborted?a():i.signal.addEventListener("abort",a)));const w=Vn(u);if(w&&_.protocols.indexOf(w)===-1){n(new b("Unsupported protocol "+w+":",b.ERR_BAD_REQUEST,i));return}l.send(s||null)})},he={http:pn,xhr:Wn};d.forEach(he,(i,e)=>{if(i){try{Object.defineProperty(i,"name",{value:e})}catch{}Object.defineProperty(i,"adapterName",{value:e})}});const qn={getAdapter:i=>{i=d.isArray(i)?i:[i];const{length:e}=i;let t,n;for(let s=0;s<e&&(t=i[s],!(n=d.isString(t)?he[t.toLowerCase()]:t));s++);if(!n)throw n===!1?new b(`Adapter ${t} is not supported by the environment`,"ERR_NOT_SUPPORT"):new Error(d.hasOwnProp(he,t)?`Adapter '${t}' is not available in the build`:`Unknown adapter '${t}'`);if(!d.isFunction(n))throw new TypeError("adapter is not a function");return n},adapters:he};function Oe(i){if(i.cancelToken&&i.cancelToken.throwIfRequested(),i.signal&&i.signal.aborted)throw new se(null,i)}function Qe(i){return Oe(i),i.headers=H.from(i.headers),i.data=Se.call(i,i.transformRequest),["post","put","patch"].indexOf(i.method)!==-1&&i.headers.setContentType("application/x-www-form-urlencoded",!1),qn.getAdapter(i.adapter||Ue.adapter)(i).then(function(n){return Oe(i),n.data=Se.call(i,i.transformResponse,n),n.headers=H.from(n.headers),n},function(n){return Et(n)||(Oe(i),n&&n.response&&(n.response.data=Se.call(i,i.transformResponse,n.response),n.response.headers=H.from(n.response.headers))),Promise.reject(n)})}const et=i=>i instanceof H?i.toJSON():i;function J(i,e){e=e||{};const t={};function n(l,u,f){return d.isPlainObject(l)&&d.isPlainObject(u)?d.merge.call({caseless:f},l,u):d.isPlainObject(u)?d.merge({},u):d.isArray(u)?u.slice():u}function s(l,u,f){if(d.isUndefined(u)){if(!d.isUndefined(l))return n(void 0,l,f)}else return n(l,u,f)}function o(l,u){if(!d.isUndefined(u))return n(void 0,u)}function r(l,u){if(d.isUndefined(u)){if(!d.isUndefined(l))return n(void 0,l)}else return n(void 0,u)}function a(l,u,f){if(f in e)return n(l,u);if(f in i)return n(void 0,l)}const c={url:o,method:o,data:o,baseURL:r,transformRequest:r,transformResponse:r,paramsSerializer:r,timeout:r,timeoutMessage:r,withCredentials:r,adapter:r,responseType:r,xsrfCookieName:r,xsrfHeaderName:r,onUploadProgress:r,onDownloadProgress:r,decompress:r,maxContentLength:r,maxBodyLength:r,beforeRedirect:r,transport:r,httpAgent:r,httpsAgent:r,cancelToken:r,socketPath:r,responseEncoding:r,validateStatus:a,headers:(l,u)=>s(et(l),et(u),!0)};return d.forEach(Object.keys(i).concat(Object.keys(e)),function(u){const f=c[u]||s,w=f(i[u],e[u],u);d.isUndefined(w)&&f!==a||(t[u]=w)}),t}const Lt="1.3.4",je={};["object","boolean","number","function","string","symbol"].forEach((i,e)=>{je[i]=function(n){return typeof n===i||"a"+(e<1?"n ":" ")+i}});const tt={};je.transitional=function(e,t,n){function s(o,r){return"[Axios v"+Lt+"] Transitional option '"+o+"'"+r+(n?". "+n:"")}return(o,r,a)=>{if(e===!1)throw new b(s(r," has been removed"+(t?" in "+t:"")),b.ERR_DEPRECATED);return t&&!tt[r]&&(tt[r]=!0,console.warn(s(r," has been deprecated since v"+t+" and will be removed in the near future"))),e?e(o,r,a):!0}};function $n(i,e,t){if(typeof i!="object")throw new b("options must be an object",b.ERR_BAD_OPTION_VALUE);const n=Object.keys(i);let s=n.length;for(;s-- >0;){const o=n[s],r=e[o];if(r){const a=i[o],c=a===void 0||r(a,o,i);if(c!==!0)throw new b("option "+o+" must be "+c,b.ERR_BAD_OPTION_VALUE);continue}if(t!==!0)throw new b("Unknown option "+o,b.ERR_BAD_OPTION)}}const _e={assertOptions:$n,validators:je},D=_e.validators;class pe{constructor(e){this.defaults=e,this.interceptors={request:new Ge,response:new Ge}}request(e,t){typeof e=="string"?(t=t||{},t.url=e):t=e||{},t=J(this.defaults,t);const{transitional:n,paramsSerializer:s,headers:o}=t;n!==void 0&&_e.assertOptions(n,{silentJSONParsing:D.transitional(D.boolean),forcedJSONParsing:D.transitional(D.boolean),clarifyTimeoutError:D.transitional(D.boolean)},!1),s!==void 0&&_e.assertOptions(s,{encode:D.function,serialize:D.function},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();let r;r=o&&d.merge(o.common,o[t.method]),r&&d.forEach(["delete","get","head","post","put","patch","common"],h=>{delete o[h]}),t.headers=H.concat(r,o);const a=[];let c=!0;this.interceptors.request.forEach(function(p){typeof p.runWhen=="function"&&p.runWhen(t)===!1||(c=c&&p.synchronous,a.unshift(p.fulfilled,p.rejected))});const l=[];this.interceptors.response.forEach(function(p){l.push(p.fulfilled,p.rejected)});let u,f=0,w;if(!c){const h=[Qe.bind(this),void 0];for(h.unshift.apply(h,a),h.push.apply(h,l),w=h.length,u=Promise.resolve(t);f<w;)u=u.then(h[f++],h[f++]);return u}w=a.length;let m=t;for(f=0;f<w;){const h=a[f++],p=a[f++];try{m=h(m)}catch(C){p.call(this,C);break}}try{u=Qe.call(this,m)}catch(h){return Promise.reject(h)}for(f=0,w=l.length;f<w;)u=u.then(l[f++],l[f++]);return u}getUri(e){e=J(this.defaults,e);const t=Ct(e.baseURL,e.url);return bt(t,e.params,e.paramsSerializer)}}d.forEach(["delete","get","head","options"],function(e){pe.prototype[e]=function(t,n){return this.request(J(n||{},{method:e,url:t,data:(n||{}).data}))}});d.forEach(["post","put","patch"],function(e){function t(n){return function(o,r,a){return this.request(J(a||{},{method:e,headers:n?{"Content-Type":"multipart/form-data"}:{},url:o,data:r}))}}pe.prototype[e]=t(),pe.prototype[e+"Form"]=t(!0)});const me=pe;class We{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let t;this.promise=new Promise(function(o){t=o});const n=this;this.promise.then(s=>{if(!n._listeners)return;let o=n._listeners.length;for(;o-- >0;)n._listeners[o](s);n._listeners=null}),this.promise.then=s=>{let o;const r=new Promise(a=>{n.subscribe(a),o=a}).then(s);return r.cancel=function(){n.unsubscribe(o)},r},e(function(o,r,a){n.reason||(n.reason=new se(o,r,a),t(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);t!==-1&&this._listeners.splice(t,1)}static source(){let e;return{token:new We(function(s){e=s}),cancel:e}}}const Yn=We;function Jn(i){return function(t){return i.apply(null,t)}}function Xn(i){return d.isObject(i)&&i.isAxiosError===!0}const ke={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(ke).forEach(([i,e])=>{ke[e]=i});const Gn=ke;function Nt(i){const e=new me(i),t=rt(me.prototype.request,e);return d.extend(t,me.prototype,e,{allOwnKeys:!0}),d.extend(t,e,null,{allOwnKeys:!0}),t.create=function(s){return Nt(J(i,s))},t}const v=Nt(Ue);v.Axios=me;v.CanceledError=se;v.CancelToken=Yn;v.isCancel=Et;v.VERSION=Lt;v.toFormData=ve;v.AxiosError=b;v.Cancel=v.CanceledError;v.all=function(e){return Promise.all(e)};v.spread=Jn;v.isAxiosError=Xn;v.mergeConfig=J;v.AxiosHeaders=H;v.formToJSON=i=>xt(d.isHTMLForm(i)?new FormData(i):i);v.HttpStatusCode=Gn;v.default=v;const ge=v;class k{static extend(){const e={};let t=!1,n=0;const s=arguments.length;Object.prototype.toString.call(arguments[0])==="[object Boolean]"&&(t=arguments[0],n++);const o=function(r){for(const a in r)Object.prototype.hasOwnProperty.call(r,a)&&(t&&Object.prototype.toString.call(r[a])==="[object Object]"?e[a]=k.extend(!0,e[a],r[a]):e[a]=r[a])};for(;n<s;n++){const r=arguments[n];o(r)}return e}}var F=function(i,e){var t=this;this.isMWElement=!0,this.toggle=function(){this.css("display",this.css("display")==="none"?"block":"none")},this._active=function(){return this.nodes[this.nodes.length-1]},this.getDocument=function(){return this._active().ownerDocument},this.getWindow=function(){return this.getDocument().defaultView},this.get=function(s,o){this.nodes=(o||document).querySelectorAll(s)},this.each=function(s){if(this.nodes)for(var o=0;o<this.nodes.length;o++)s.call(this.nodes[o],o);else this.node&&s.call(this.node,0);return this},this.encapsulate=function(){};var n=function(s,o){s&&(Array.isArray(s)?s.forEach(function(r){n(r,o)}):s instanceof F?o.append(s):typeof s=="object"&&o.append(new F(s)))};this.create=function(){var s=this.document.createElement(this.settings.tag);if(this.node=s,this.settings.encapsulate===!0){var o=this.settings.encapsulate===!0?"open":this.settings.encapsulate;s.attachShadow({mode:o})}this.nodes=[s],this.settings.content&&n(this.settings.content,this)},this._specialProps=function(s,o){if(s==="tooltip")return this.node.dataset[s]=o,!0},this.setProps=function(){for(var s in this.settings.props)if(s==="dataset")for(var o in this.settings.props[s])this.node.dataset[o]=this.settings.props[s][o];else if(s==="style")for(var r in this.settings.props[s])this.node.style[r]=this.settings.props[s][r];else{var a=this.settings.props[s];this._specialProps(s,a)||(this.node[s]=a)}},this.__={cssNumber:["animationIterationCount","columnCount","fillOpacity","flexGrow","flexShrink","fontWeight","gridArea","gridColumn","gridColumnEnd","gridColumnStart","gridRow","gridRowEnd","gridRowStart","lineHeight","opacity","order","orphans","widows","zIndex","zoom"]},this._normalizeCSSValue=function(s,o){return typeof o=="number"&&this.__.cssNumber.indexOf(s)===-1&&(o=o+"px"),o},this.css=function(s,o){if(typeof s=="string")if(typeof o<"u"){var r=this._normalizeCSSValue(s,o);this.each(function(){this.style[s]=r})}else return this.document.defaultView.getComputedStyle(this.node)[s];if(typeof s=="object")for(var a in s)this.each(function(){this.style[a]=t._normalizeCSSValue(a,s[a])});return this},this.dataset=function(s,o){return typeof o>"u"?this._active()[s]:(this.each(function(){this.dataset[s]=o}),this)},this.attr=function(s,o){return typeof o>"u"?this._active()[s]:(this.each(function(){this.setAttribute(s,o)}),this)},this.val=function(s){return typeof s>"u"?this._active().value:(this.each(function(){this.value=s}),this)},this.prop=function(s,o){var r=this._active();return typeof o>"u"?r[s]:(r[s]!==o&&(r[s]=o,this.trigger("propChange",[s,o])),this)},this.hide=function(){return this.each(function(){this.style.display="none"})},this.show=function(){return this.each(function(){this.style.display=""})},this.find=function(s){var o=mw.element("#r"+new Date().getTime());return this.each(function(){for(var r=this.querySelectorAll(s),a=0;a<r.length;a++)o.nodes.indexOf(r[a])===-1&&o.nodes.push(r[a])}),o},this.addClass=function(s){return s=s.trim().split(" "),this.each(function(){var o=this;s.forEach(function(r){o.classList.add(r)})})},this.toggleClass=function(s){return this.each(function(){this.classList.toggle(s.trim())})},this.removeClass=function(s){var o=Array.isArray(s);if(o)return this.each(function(){for(var a=0,c=s.length;a<c;a++)this.classList.remove(s[a])});s=s.trim();var r=s.split(" ");return r.length>1?this.removeClass(r):this.each(function(){this.classList.remove(s)})},this.remove=function(){return this.each(function(){this.remove()})},this.empty=function(){return this.html("")},this.html=function(s){return typeof s>"u"?this._active().innerHTML:this.each(function(){this.innerHTML=s})},this.text=function(s,o){if(typeof s>"u")return this.node.textContent;typeof o>"u"&&(o=!0),o&&(s=this.document.createRange().createContextualFragment(s).textContent),this.node.innerHTML=s},this._asdom=function(s){return typeof s=="string"?this.document.createRange().createContextualFragment(s):s.node?s.node:s.nodes?s.nodes[s.nodes.length-1]:s},this.offset=function(){var s=this._active(),o=this.getWindow(),r=s.getBoundingClientRect();return r.offsetTop=r.top+o.pageYOffset,r.offsetBottom=r.bottom+o.pageYOffset,r.offsetLeft=r.left+o.pageXOffset,r},this.width=function(s){return s?this.css("width",s):this._active().offsetWidth},this.height=function(s){return s?this.css("height",s):this._active().offsetHeight},this.parent=function(){return mw.element(this._active().parentNode)},this.parents=function(s){s=s||"*";var o=this._active(),r=o.parentElement,a=mw.element();for(a.nodes=[];r;)r.matches(s)&&a.nodes.push(r),r=r.parentElement;return a},this.append=function(s){return s&&this.each(function(){this.append(t._asdom(s))}),this},this.before=function(s){return s&&this.each(function(){this.parentNode&&this.parentNode.insertBefore(t._asdom(s),this)}),this},this.after=function(s){s&&this.each(function(){this.parentNode&&this.parentNode.insertBefore(t._asdom(s),this.nextSibling)})},this.prepend=function(s){return s&&this.each(function(){this.prepend(t._asdom(s))}),this},this._disabled=!1,Object.defineProperty(this,"disabled",{get:function(){return this._disabled},set:function(s){this._disabled=s,this.node.disabled=this._disabled,this.node.dataset.disabled=this._disabled}}),this.trigger=function(s,o){return o=o||{},this.each(function(){this.dispatchEvent(new CustomEvent(s,{detail:o,cancelable:!0,bubbles:!0})),t._on[s]&&t._on[s].forEach(function(r){r.call(this,s,o)})}),this},this.get=function(s){return this.nodes[s]},this.wrap=function(s){var o=qe(s);this.before(o),o.append(this)},this._on={},this.on=function(s,o){return s=s.trim().split(" "),s.forEach(function(r){t._on[r]||(t._on[r]=[]),t._on[r].push(o),t.each(function(){this.addEventListener(r,o,!1)})}),this},this.init=function(){if(this.nodes=[],this.root=e||document,this.root instanceof F&&(this.root=this.root.get(0)),this._asElement=!1,this.document=this.root.body?this.root:this.root.ownerDocument,i=i||{},i.nodeName&&i.nodeType)this.nodes.push(i),this.node=i,i={},this._asElement=!0;else if(typeof i=="string")if(i.indexOf("<")===-1)this.nodes=Array.prototype.slice.call(this.root.querySelectorAll(i)),i={},this._asElement=!0;else if(this.settings&&this.settings.content instanceof F)this.append(this.settings.content);else if(this.settings&&typeof this.settings.content=="object")this.append(new F(this.settings.content));else{var s=this._asdom(i);this.nodes=[].slice.call(s.children),this._asElement=!0}i=i||{};var o={tag:"div",props:{}};this.settings=k.extend({},o,i),!this._asElement&&(this.create(),this.setProps())},this.init()};const qe=function(i,e){return new F(i,e)};qe.module=function(i,e){F.prototype[i]=e};const He="mw-le-element";window.customElements&&!customElements.get(He)&&customElements.define(He,class extends HTMLElement{constructor(){super()}});const y=(i,e)=>(i instanceof Object&&!i.nodeType&&(i=k.extend({},i||{},{tag:i.tag||He})),qe(i,e));let Z;const re=document.documentElement;re.matches?Z="matches":re.matchesSelector?Z="matchesSelector":re.mozMatchesSelector?Z="mozMatchesSelector":re.webkitMatchesSelector&&(Z="webkitMatchesSelector");class L{static fragment(){return this._fragment||(this._fragment=document.createElement("div"),this._fragment.style.visibility="hidden",this._fragment.style.position="absolute",this._fragment.style.width="1px",this._fragment.style.height="1px",document.body.appendChild(this._fragment)),this._fragment}static matches(e,t){return e[Z](t)}static isBlockLevel(e){if(!e||e.nodeType===3)return!1;var t=e.nodeName;if(typeof this._isBlockCache[t]<"u")return this._isBlockCache[t];var n=document.createElement(t);return this.fragment().appendChild(n),this._isBlockCache[t]=getComputedStyle(n).display==="block",this.fragment().removeChild(n),this._isBlockCache[t]}static firstBlockLevel(e){for(;e&&e.classList;){if(this.isBlockLevel(e))return e;e=e.parentNode}}static firstWithBackgroundImage(e){if(!e)return null;for(;e&&e.nodeName!=="BODY";){if(e.style.backgroundImage)return e;e=e.parentElement}return null}static hasAnyOfClassesOnNodeOrParent(e,t){for(;e&&e.nodeName!=="BODY";){let n=0,s=t.length;for(;n<s;n++)if(e.classList.contains(t[n]))return!0;e=e.parentElement}return!1}static hasParentsWithClass(e,t){if(e){for(var n=e.parentNode;n&&n.nodeName!=="BODY";){if(n.classList.contains(t))return!0;n=n.parentNode}return!1}}static hasParentWithId(e,t){if(e){for(var n=e.parentNode;n&&n.nodeName!=="BODY";){if(n.id===t)return!0;n=n.parentNode}return!1}}static firstWithAyOfClassesOnNodeOrParent(e,t){for(;e&&e.nodeName!=="BODY";){let n=0,s=t.length;for(;n<s;n++)if(e.classList.contains(t[n]))return e;e=e.parentElement}return null}static firstParentOrCurrentWithTag(e,t){if(!(!e||!t)){t=typeof t!="string"?t:[t];for(var n=e;n&&n.nodeName!=="BODY";){if(t.indexOf(n.nodeName.toLowerCase())!==-1)return n;n=n.parentNode}return!1}}static index(e,t,n){n=n||e.tagName.toLowerCase(),t=t||e.parentNode;var s;t.constructor===[].constructor?s=t:s=t.querySelectorAll(n);for(var o=0,r=s.length;o<r;o++)if(e===s[o])return o}static firstParentOrCurrentWithClass(e,t){if(!e)return!1;for(var n=e;n&&n.nodeName!=="BODY";){if(n.classList.contains(t))return n;n=n.parentNode}return!1}static firstParentOrCurrent(e,t){if(!e)return!1;for(var n=e;n&&n.nodeName!=="BODY";){if(n.matches(t))return n;n=n.parentNode}return!1}static firstParentOrCurrentWithAnyOfClasses(e,t){if(!e)return!1;for(var n=e;n&&n.nodeName!=="BODY";){if(!n)return!1;if(this.hasAnyOfClasses(n,t))return n;n=n.parentNode}return!1}static parentsOrCurrentOrderMatchOrOnlyFirst(e,t){let n=e;for(;n&&n.nodeName!=="BODY";){const s=n.classList.contains(t[0]),o=n.classList.contains(t[1]);if(s&&o)return!1;if(s)return!0;if(o)return!1;n=n.parentNode}return!1}static parentsOrCurrentOrderMatchOrOnlyFirstOrNone(e,t){let n=e;for(;n&&n.nodeName!=="BODY";){const s=n.classList.contains(t[0]),o=n.classList.contains(t[1]);if(s&&o)return!1;if(s)return!0;if(o)return!1;n=n.parentNode}return!0}static hasAnyOfClasses(e,t){if(!e)return;let n=0,s=t.length;for(;n<s;n++)if(e.classList.contains(t[n]))return!0;return!1}static offset(e){if(e){var t=e.getBoundingClientRect(),n={top:t.top,left:t.left,width:t.width,height:t.height,bottom:t.bottom,right:t.right};return n.top+=e.ownerDocument.defaultView.scrollY,n.bottom+=e.ownerDocument.defaultView.scrollY,n.left+=e.ownerDocument.defaultView.scrollX,n.right+=e.ownerDocument.defaultView.scrollX,n}}static parentsOrder(e,t){for(var n=[],s={},o=t.length,r=0,a=-1;r<o;r++)s[t[r]]=-1;if(!e)return s;for(var c=e.parentNode;c&&c.nodeName!=="BODY";){for(a++,r=0;r<o;r++)c.classList.contains(t[r])&&n.indexOf(t[r])===-1&&(s[t[r]]=a,n.push(t[r]));c=c.parentNode}return s}}N(L,"_isBlockCache",{}),N(L,"_fragment");class Kn{constructor(e){this.settings=e,this.tools=L}isRow(e){return e.classList.contains(this.settings.rowClass)}isModule(e){return e.classList.contains(this.settings.moduleClass)&&e.dataset.type!=="layouts"}isLayout(e){return e.classList.contains(this.settings.moduleClass)&&e.dataset.type==="layouts"}isInLayout(e){if(!e)return!1;for(e=e.parentNode;e&&e!==this.settings.document.body;){if(e.classList.contains(this.settings.moduleClass)&&e.dataset.type==="layouts")return!0;e=e.parentNode}}isElement(e){return e.classList.contains(this.settings.elementClass)}isEmptyElement(e){return e.classList.contains(this.settings.emptyElementClass)}isEdit(e){return e.classList.contains(this.settings.editClass)}isInEdit(e){var t=[this.settings.editClass,this.settings.moduleClass];return this.tools.parentsOrCurrentOrderMatchOrOnlyFirst(e.parentNode,t)}isEditOrInEdit(e){return this.isEdit(e)||this.isInEdit(e)}isPlainText(e){return e.classList.contains(this.settings.plainElementClass)}getType(e){if(this.isEdit(e))return"edit";if(this.isElement(e))return"element";if(this.isModule(e))return"module";if(this.isLayout(e))return"layout"}}class St extends Kn{constructor(e){super(e),this.settings=e,this._tagsCanAccept=["DIV","ARTICLE","ASIDE","FOOTER","HEADER","MAIN","SECTION","DD","LI","TD","FORM","DD"],this.init()}isConfigurable(e){return this.isElement(e)||this.isModule(e)||this.isRow(e)}isEditableLayout(e){return this.this.isLayout(e)&&this.isInEdit(e)}canMoveModule(e){return this.isModule(e)&&this.isInEdit(e)}canAcceptByClass(e){return this.tools.hasAnyOfClasses(e,this.dropableElements())}canAcceptByTag(e){return!e||e.nodeType!==1?!1:this._tagsCanAccept.indexOf(e.nodeName)!==-1}allowDrop(e){return this.tools.parentsOrCurrentOrderMatchOrOnlyFirstOrNone(e,[this.settings.allowDrop,this.settings.nodrop])}canInsertBeforeOrAfter(e){return this.canAccept(e.parentNode)}canAccept(e){return!!(this.canAcceptByClass(e)&&this.isEditOrInEdit(e)&&this.allowDrop(e))}canReceiveElements(e){return this.isEdit(e)&&this.canAcceptByTag(e)}dropableElements(){return this._dropableElements}getIteractionTarget(e){return this.tools.firstWithAyOfClassesOnNodeOrParent(e,[this.settings.elementClass,this.settings.editClass,this.settings.moduleClass])}getTarget(e,t){const n=this.getIteractionTarget(e);if(!n||!this.isEditOrInEdit(e)||!this.allowDrop(e))return null;const s={target:n,canInsert:!1,beforeAfter:!1};var o=this.settings.strictLayouts&&this.isLayout(t),r=this.settings.strict&&!this.isLayout(t)&&!this.isInLayout(n);if(r)return null;if(this.isEdit(n))s.canInsert=!o;else if(this.isElement(n)&&!o)this.canAcceptByTag(n)&&(s.canInsert=!o),s.beforeAfter=!0;else if(this.isModule(n)&&!o)if(this.canInsertBeforeOrAfter(n))s.beforeAfter=!0;else return null;else if(this.isLayout(n))if(this.canInsertBeforeOrAfter(n))s.beforeAfter=!0;else return null;return s}init(){this._dropableElements=[this.settings.elementClass,this.settings.cloneableClass,this.settings.editClass,this.settings.moduleClass,this.settings.colClass,this.settings.allowDrop]}}let Zn=-1;const Qn=(i,e)=>{if(!i||!e)return!1;const t=e.target;if(!t||t.nodeType!==1)return!1;i.pageX;const n=i.pageY,s=L.offset(t),o={},r=15;if(Zn===n||!e||!e.canInsert&&!e.beforeAfter)return!1;if(e.canInsert&&e.beforeAfter)if(n>=s.top-r&&n<=s.top+r)o.position="top",o.action="before";else if(n>=s.top+r&&n<=s.top+s.height/2)o.position="top",o.action="prepend";else if(n>=s.top+s.height/2&&n<=s.bottom-r)o.position="bottom",o.action="append";else if(n>=s.top+s.height/2&&n>=s.bottom-r)o.position="bottom",o.action="after";else return!1;else if(e.beforeAfter)if(n>=s.top-r&&n<=s.top+s.height/2)o.position="top",o.action="before";else if(n>=s.top+s.height/2&&n<=s.bottom+r)o.position="bottom",o.action="after";else return!1;else if(e.canInsert)if(n>=s.top-r&&n<=s.top+s.height/2)o.position="top",o.action="prepend";else if(n>=s.top+s.height/2&&n<=s.bottom+r)o.position="bottom",o.action="append";else return!1;return o},ei=function(i,e){var t={handle:null,element:null,document,helper:!0},n=this,s={};this.on=function(r,a){s[r]?s[r].push(a):s[r]=[a]},this.dispatch=function(r,a){s[r]&&s[r].forEach(function(c){c.call(this,a)})};var o=function(r){n.settings.document.body.style.scrollBehavior="smooth",n.settings.document.defaultView.scrollTo(0,n.settings.document.defaultView.scrollY+r),n.settings.document.body.style.scrollBehavior=""};this.config=function(){this.settings=k.extend({},t,i),this.settings.target||(this.settings.target=this.settings.document.body),this.setElement(this.settings.element),this.dropIndicator=this.settings.dropIndicator},this.setElement=function(r){this.element=y(r).get(0),this.settings.handle||(this.settings.handle=this.settings.element),this.handle=this.settings.handle,this.handle.attr("draggable","true")},this.setTargets=function(r){this.targets=y(r)},this.addTarget=function(r){this.targets.push(r)},this.init=function(){this.config(),this.draggable()},this.helper=function(r){return this._helper||(this._helper=y().get(0),this._helper.className="mw-draggable-helper",this.settings.document.body.appendChild(this._helper)),r==="create"?(this._helper.style.top=r.pageY+"px",this._helper.style.left=r.pageX+"px",this._helper.style.width=n.element.offsetWidth+"px",this._helper.style.height=n.element.offsetHeight+"px",this.settings.document.documentElement.classList.add("le-dragging"),this._helper.style.display="block"):r==="remove"&&this._helper?(this._helper.style.display="none",this.settings.document.documentElement.classList.remove("le-dragging")):this.settings.helper&&r&&(this._helper.style.top=r.pageY+"px",this._helper.style.left=r.pageX+"px",this._helper.style.maxWidth=n.settings.document.defaultView.innerWidth-r.pageX-40+"px",this.settings.document.documentElement.classList.add("le-dragging")),this._helper},this.isDragging=!1,this.dropableService=new St(e),this.dropPosition=Qn,this.draggable=function(){y(this.settings.target).on("dragleave",function(r){n.dropIndicator.hide()}),y(this.settings.target).on("dragover",function(r){if(n.target=null,n.action=null,r.target!==n.element||!n.element.contains(r.target)){var a=n.dropableService.getTarget(r.target,n.element);if(a&&a!==n.element){const c=n.dropPosition(r,a);c?(n.target=a.target,n.action=c.action,n.dropIndicator.position(n.target,c.action+"-"+c.position)):n.dropIndicator.hide()}else n.dropIndicator.hide();n.isDragging&&(n.dispatch("dragOver",{element:n.element,event:r}),r.preventDefault())}}).on("drop",function(r){n.isDragging&&(r.preventDefault(),n.target&&n.action&&y(n.target)[n.action](n.element),n.dropIndicator.hide(),n.dispatch("drop",{element:n.element,event:r})),n.dropIndicator.hide()}),this.handle.on("dragstart",function(r){n.isDragging=!0,n.element.id||(n.element.id="mw-element-"+new Date().getTime()),n.element.classList.add("mw-element-is-dragged"),r.dataTransfer.setData("text",n.element.id),r.dataTransfer.effectAllowed="move",n.helper("create"),n.dispatch("dragStart",{element:n.element,event:r})}).on("drag",function(r){var a=90,c=5;r.clientY<a&&o(-c),r.clientY>innerHeight-(a+(this._helper?this._helper.offsetHeight+10:0))&&o(c),r.dataTransfer.dropEffect="copy",n.dispatch("drag",{element:n.element,event:r}),n.helper(r)}).on("dragend",function(r){n.isDragging=!1,n.element.classList.remove("mw-element-is-dragged"),n.helper("remove"),n.dispatch("dragEnd",{element:n.element,event:r})})},this.init()};var B,q,Y;class Ot{constructor(e={}){N(this,"x",0);N(this,"y",0);N(this,"w",0);N(this,"h",0);N(this,"listeners",{});E(this,B,{});N(this,"activeHandle",null);N(this,"handles",{});E(this,q,!1);E(this,Y,!0);const t={element:null,document,maxHeight:null,maxWidth:null};this.settings=Object.assign({},t,e),this.element=this.settings.element,this.document=this.settings.document,this.element.classList.add("mw-le-resizable")}on(e,t){g(this,B)[e]?g(this,B)[e].push(t):g(this,B)[e]=[t]}dispatch(e,t){g(this,B)[e]&&g(this,B)[e].forEach(n=>{n.call(this,t)})}mouseMoveHandler(e){const t=e.clientX-this.x,n=e.clientY-this.y;let s=this.h+n,o;this.activeHandle===this.handles.left?o=this.w-t:o=this.w+t,this.settings.maxWidth&&(o=Math.min(o,this.settings.maxWidth)),this.settings.maxHeight&&(s=Math.min(s,this.settings.maxHeight)),this.element.style.width=`${o}px`,this.element.style.height=`${s}px`,e.preventDefault(),this.dispatch("resize",{height:this.element.offsetHeight,width:this.element.offsetWidth})}mouseUpHandler(){for(const e in this.listeners)this.document.removeEventListener(e,this.listeners[e]);this.listeners={},this.activeHandle=null,this.dispatch("resizeStop")}mouseDownHandler(e){this.x=e.clientX,this.y=e.clientY;const t=this.document.defaultView.getComputedStyle(this.element);this.w=parseInt(t.width,10),this.h=parseInt(t.height,10),this.listeners.mousemove=n=>this.mouseMoveHandler(n),this.listeners.mouseup=n=>this.mouseUpHandler(n);for(const n in this.listeners)this.document.addEventListener(n,this.listeners[n]);this.dispatch("resizeStart")}disable(){j(this,q,!0),j(this,Y,!1),this.element.classList.add("mw-le-resizable-disabled")}enable(){j(this,q,!1),j(this,Y,!0),this.element.classList.remove("mw-le-resizable-disabled")}disabled(){return g(this,q)}enabled(){return g(this,Y)}build(){const e=this.document.createElement("span"),t=this.document.createElement("span"),n=this.document.createElement("span"),s=this.document.createElement("span");this.handles.top=e,this.handles.right=t,this.handles.bottom=n,this.handles.left=s,e.className="mw-le-resizer mw-le-resizer-t",t.className="mw-le-resizer mw-le-resizer-r",s.className="mw-le-resizer mw-le-resizer-l",n.className="mw-le-resizer mw-le-resizer-b",this.element.appendChild(e),this.element.appendChild(t),this.element.appendChild(n),this.element.appendChild(s)}mount(){if(!this.element)return this;if(this.element.dataset.resizable)return this;this.element.dataset.resizable=!0,this.build();const e=this.element.querySelectorAll(".mw-le-resizer");return Array.from(e).forEach(t=>{t.addEventListener("mousedown",n=>{this.mouseDownHandler(n),this.activeHandle=t})}),this.dispatch("ready",{height:this.element.offsetHeight,width:this.element.offsetWidth}),this}}B=new WeakMap,q=new WeakMap,Y=new WeakMap;globalThis.Resizable=Ot;const ae=function(i){var e={},t=this;this.settings=k.extend({},e,i);const n={};this.on=(l,u)=>{n[l]?n[l].push(u):n[l]=[u]},this.dispatch=(l,u)=>{n[l]&&n[l].forEach(f=>{f.call(this,u)})};var s=!0,o=null;this.getTarget=function(){return o},this.isVisible=function(){return s},this.show=function(){s=!0,this.wrapper.removeClass("mw-handle-item-hidden")},this.hide=function(){s=!1,this.wrapper.addClass("mw-handle-item-hidden"),this.wrapper.removeClass("mw-handle-active")};let r=null;this.setContent=function(l){r&&r.remove(),r=l,this.wrapper.append(r)},this.initDraggable=function(){this.draggable=new ei({handle:this.handle,element:null,helper:!0,dropIndicator:this.settings.dropIndicator,document:this.settings.document,target:this.settings.root,stateManager:this.settings.stateManager,type:this.settings.type},i),this.draggable.on("dragStart",function(){t.wrapper.addClass("mw-handle-item-dragging")}),this.draggable.on("dragEnd",function(){t.wrapper.removeClass("mw-handle-item-dragging")})},this.set=function(l,u){if(!l){o=null;return}var f=L.offset(l);this.wrapper.css({top:f.top,left:f.left,width:f.width,height:f.height}),this.show(),this.draggable.setElement(l),(o!==l||u)&&(o=l,this.dispatch("targetChange",l)),setTimeout(()=>this.wrapper.addClass("mw-handle-active"),1)},this.createHandle=function(){this.settings.handle?this.handle=this.settings.handle:(this.handle=y({tag:"div",props:{className:"mw-handle-item-handle",contentEditable:!1,draggable:!0}}),this.wrapper.append(this.handle))};var a=this.settings.document.defaultView.innerWidth,c=this.settings.document.defaultView.innerHeight;this.resizableMaxWidth=function(l){if(typeof l>"u")return a;a=l},this.resizableMaxHeight=function(l){if(typeof l>"u")return c;c=l},this.findClosestElementByClass=function(l,u=200){let f=[],w=l,m=0;for(;w!==document;){const h=w.parentNode.querySelectorAll(".element,.module");if(h.length>0&&(f=[...h].filter(p=>Math.abs(l.getBoundingClientRect().top-p.getBoundingClientRect().top)<=u),f.length>0)||(w=w.parentNode,m++,m>u/10))break}return f},this.resizable=function(){this.settings.resizable&&(this.resizer=new Ot({element:this.wrapper.get(0),document:this.settings.document}),this.resizer.mount(),this.resizer.on("resize",l=>{const u=this.getTarget();u.nodeName==="IMG"?(u.style.height=l.height+"px",u.style.width=l.width+"px"):(u.style.minHeight=l.height+"px",u.style.width=l.width+"px"),this.set(u)}))},this.createWrapper=function(){this.wrapper=y({tag:"div",props:{className:"mw-handle-item "+(this.settings.className||"mw-handle-type-default"),id:this.settings.id||"mw-handle-"+new Date().getTime(),contentEditable:!1}}),this.wrapper.on("mousedown",function(){this.classList.remove("mw-handle-item-mouse-down")}),y(document.body).on("mouseup touchend",function(){t.wrapper.removeClass("mw-handle-item-mouse-down")}),this.settings.document.body.appendChild(this.wrapper.get(0))},this.createWrapper(),this.createHandle(),this.initDraggable(),this.settings.content&&this.setContent(this.settings.content),this.hide(),this.resizable()},ti=function(i){i=i||{},this.tools=L;var e=this,t={exceptions:["mw-handle-item"]};this.settings=k.extend({},t,i),this.settings.root.nodeType===9?this.document=this.settings.root:this.document=this.settings.root.ownerDocument,this.body=this.document.body;var n=20,s=function(a){return a%5>=2.5?a/5*5+5:a/5*5},o=function(a,c){a=s(a),c=s(c);for(var l=[],u=a-n,f=a+n,w=c-n,m=c+n;u<f;u+=5)for(;w<=m;w+=5)l.push([u,w]);return l},r=function(a,c){a&&a.parentElement&&c.indexOf(a)===-1&&e.body!==a&&c.push(a)};this.fromEvent=function(a){return e.tools.hasAnyOfClassesOnNodeOrParent(a.target,this.settings.exceptions)?[]:(e.document._test||(e.document._test=document.createElement("div"),e.document._test.style.position="absolute",e.document._test.style.left="10px",e.document._test.style.background="red",e.document._test.style.width="10px",e.document._test.style.height="10px",e.document.body.appendChild(e.document._test)),e.document._test.style.top=a.pageY+"px",this.fromPoint(a.pageX,a.pageY))},this.fromPoint=function(a,c){var l=[];e.document.defaultView.frameElement&&(c-=e.document.defaultView.scrollY);var u=e.document.elementFromPoint(a,c);if(!u)return[];r(u,l);var f=o(a,c);return f.forEach(function(w){r(e.document.elementFromPoint(w[0],w[1]),l)}),l}},ni=function(i){return L.matches(i,'.row,[class*="row-"]')},ii=function(i){return L.matches(i,'.col,[class*="col-"]')};let M;const nt=function(){return M||(M=document.createElement("div"),M.style.visibility="hidden",M.style.position="absolute",M.style.width="1px",M.style.height="1px",document.body.appendChild(M)),M},le={},si=function(i){if(!i||i.nodeType===3)return!1;var e=i.nodeName;if(typeof le[e]<"u")return le[e];var t=document.createElement(e);return nt().appendChild(t),le[e]=getComputedStyle(t).display==="block",nt().removeChild(t),le[e]},oi=(i,e,t)=>{i=i||"*";for(var n=e.querySelectorAll(i),s=0,o=[];s<n.length;s++)!ii(n[s])&&!ni(n[s])&&!t.elementAnalyzer.isEdit(n[s])&&si(n[s])&&o.push(n[s]);return o},ri=i=>{const{backgroundImageHolder:e,editClass:t,moduleClass:n,elementClass:s,allowDrop:o}=i.settings,r=i.root;for(var a=r.querySelectorAll("."+t+"."+e+", ."+t+" ."+e+", ."+t+'[style*="background-image"], .'+t+' [style*="background-image"]'),c=r.querySelectorAll("."+n+i.settings.unEditableModules.join(",."+n)),l=r.querySelectorAll("."+t),u=0,f=0,w=0;u<a.length;u++){var m=a[u];i.elementAnalyzer.isInEdit(m)&&(mw.tools.hasClass(m,n)||mw.tools.addClass(m,t),m.style.backgroundImage||(m.style.backgroundImage="none"))}for(;f<c.length;f++)c[u].classList.remove(n);for(;w<l.length;w++){for(var h=oi(":not(."+s+")",l[w],i),p=0,C=l[w].querySelectorAll("img,."+o),x=0;x<C.length;x++)C[x].classList.add(s);for(;p<h.length;p++)h[p].classList.contains(n)||i.elementAnalyzer.isInEdit(h[p])&&h[p].classList.add(s)}},ai=function(i){this.handles=i,this.dragging=!1;var e=this;this.get=function(t){return this.handles[t]},this.set=function(t,n){this.get(t).set(n)},this.hide=function(t){t&&this.handles[t]?this.handles[t].hide():this.each(function(n,s){s.hide()})},this.hideAllBut=function(t){this.each(function(n,s){n!==t&&s.hide()})},this.show=function(t){t&&this.handles[t]?this.handles[t].show():this.each(function(n,s){s.show()})},this.each=function(t){if(t){var n;for(n in this.handles)t.call(e,n,this.handles[n])}},this.targetIsSelected=function(t,n){if(t){t=t.target||t;var s;for(s in this.handles){if(n&&n===this.handles[s])continue;const o=this.handles[s].getTarget();if(o&&o===t)return!0}return!1}},this.targetIsOrInsideHandle=function(t){if(t){t=t.target||t;var n;for(n in this.handles)if(this.handles[n].wrapper.get(0)===t||this.handles[n].wrapper.get(0).contains(t))return!0;return!1}},this.init=function(){this.each(function(t,n){n.draggable.on("dragStart",function(){e.dragging=!0,e.hideAllBut(t)}),n.draggable.on("dragEnd",function(){e.dragging=!1,n.show()})})},this.init()},li=function(i){i=i||{};const e={template:"default"};let t={};this.settings=k.extend({},e,i),this._indicator=null;const n={};this.on=function(c,l){n[c]?n[c].push(l):n[c]=[l]},this.dispatch=function(c,l){n[c]&&n[c].forEach(function(u){u.call(this,l)})},this.visible=!1,this.hide=function(){this.visible&&(this._indicator.addClass("mw-drop-indicator-hidden"),this.visible=!1,t={})},this.show=function(){console.log(this.visible),this.visible||this._indicator.removeClass("mw-drop-indicator-hidden"),this.visible=!0};const s=["before-top","prepend-top","after-bottom","append-bottom"],o="mw-drop-indicator-position-",r=s.map(function(c){return o+c});let a=null;this.position=function(c,l){if(!(!c||!l)&&!(t.target===c&&t.position===l)){t.target=c,t.position=l,a!==l&&(this._indicator.removeClass(r),a=l,this._indicator.addClass(o+l));var u=L.offset(c);this._indicator.css({height:u.height,left:u.left,top:u.top,width:u.width}),this.show()}},this.make=function(){this._indicator=y(),this._indicator.html('<div class="mw-drop-indicator-block"><div class="mw-drop-indicator-pin"></div></div>'),this._indicator.addClass("mw-drop-indicator mw-drop-indicator-template-"+this.settings.template),this.hide(),this.settings.document.body.appendChild(this._indicator.get(0))},this.init=function(){this.make()},this.init()},ci=(i,e,t)=>{!i||!e||(i=i.isMWElement?i.get(0):i,i.dataset.tooltip=e,i.title=e,i.dataset.tooltipposition=t||"top-center")},X=function(i){this.options=i||{};var e=this;this._visible=!0,this.isVisible=function(){return this._visible},this.show=function(){this._visible=!0,this.root.addClass("mw-le-handle-menu-visible")},this.hide=function(){this._visible=!1,this.root.removeClass("mw-le-handle-menu-visible")},this.create=function(){this.root=y({props:{className:"mw-le-handle-menu",id:e.options.id||"mw-le-handle-menu-"+new Date().getTime()}}),this.buttonsHolder=y({props:{className:"mw-le-handle-menu-buttons"}}),this.root.append(this.buttonsHolder)};var t,n,s,o=function(){t=y({props:{className:"mw-le-handle-menu-title"}}),n=y({props:{className:"mw-le-handle-menu-title-text"}}),s=y({props:{className:"mw-le-handle-menu-title-icon"}}),t.append(n),t.append(s),e.root.prepend(t),e.title=t},r=null;this.getTarget=function(){return r},this.setTarget=function(a){r=a;for(var c=0;c<this.buttons.length;c++)this.buttons[c].config.onTarget&&this.buttons[c].config.onTarget(a,this.buttons[c].button.get(0),e.options.rootScope)},this.setTitle=function(a,c){n.html(a||""),s.html(c||"")},this.buttons=[],this.buildButtons=function(a,c){c=c||this.buttonsHolder,a=a||this.options.buttons,a.forEach(function(l){c.append(e.button(l))})},this.button=function(a){var c=y({props:{className:"mw-le-handle-menu-button"+(a.className?" "+a.className:"")}}),l={props:{className:"mw-le-handle-menu-button-content"}},u=y(l);if(a.title&&ci(u,a.title),a.icon){var f=y({props:{className:"mw-le-handle-menu-button-icon",innerHTML:a.icon}});u.append(f)}if(a.text){var w=y({props:{className:"mw-le-handle-menu-button-text",innerHTML:a.text}});u.append(w)}if(c.append(u),this.buttons.push({button:c,config:a}),a.menu){var m=y({props:{className:"mw-le-handle-menu-button-sub-menu"}});c.append(m),e.buildButtons(a.menu,m),c.on("click",function(){this.classList.toggle("sub-menu-active")})}else typeof a.action=="function"&&c.on("click",function(){a.action(e.getTarget(),c.get(0))});return c},this.init=function(){this.create(),o(),this.setTitle(e.options.title,e.options.icon),this.buildButtons(),this.hide()},this.init()},di=(i,e)=>{const t=y({props:{className:"le-dialog-footer"}}),n=y({props:{className:"le-btn le-btn-primary le-dialog-footer-ok",innerHTML:i||"OK"}}),s=y({props:{className:"le-btn le-dialog-footer-cancel"}});return t.append(s),t.append(n),{ok:n,cancel:s,footer:t}};var z,ee,Re;class At{constructor(e){E(this,ee);E(this,z,{});e=e||{};const t={content:null,overlay:!0,closeOnEscape:!0,document,position:"centered",mode:"fixed"};this.settings=Object.assign({},t,e),this.build(),setTimeout(n=>this.open())}on(e,t){g(this,z)[e]?g(this,z)[e].push(t):g(this,z)[e]=[t]}dispatch(e,t){g(this,z)[e]&&g(this,z)[e].forEach(n=>{n.call(this,t)})}build(){this.root=y({props:{className:`le-dialog ${typeof this.settings.position=="string"?this.settings.position:""}`}});var e=y({props:{className:"le-dialog-close"}});e.on("click",()=>{this.remove()}),this.container=y({props:{className:"le-dialog-container"},content:this.settings.content}),this.root.append(e),this.root.append(this.container),this.settings.footer&&this.root.append(this.settings.footer.root||this.settings.footer),this.settings.document.body.appendChild(this.root.get(0)),this.settings.closeOnEscape&&this.settings.document.addEventListener("keydown",A(this,ee,Re)),this.settings.overlay&&this.overlay()}open(){if(this.settings.position.nodeName&&this.settings.position.ownerDocument===this.settings.document){var e=this.settings.position;e.ownerDocument;var t=e.ownerDocument.defaultView,n=e.getBoundingClientRect(),s=n.top+t.scrollY,o=n.left+e.offsetWidth+t.scrollX,r=this.root.get(0);s+r.offsetHeight>t.innerHeight+t.scrollY&&(s-=s+r.offsetHeight-(t.innerHeight+t.scrollY)),o+r.offsetWidth>t.innerWidth&&(o-=o+r.offsetWidth-t.innerWidth),this.root.css({top:s,left:o,position:this.settings.mode})}this.root.addClass("le-dialog-opened")}remove(){this.root.on("transitionend",()=>{this.root.remove(),this.overlay&&this.overlay.remove()}),this.root.removeClass("le-dialog-opened"),this.settings.closeOnEscape&&this.settings.document.removeEventListener("keydown",A(this,ee,Re)),this.dispatch("close")}overlay(){this.overlay=y({props:{className:"le-dialog-overlay"}}),this.settings.document.body.appendChild(this.overlay.get(0))}}z=new WeakMap,ee=new WeakSet,Re=function(e){(e.key==="Escape"||e.keyCode===27)&&this.remove()};const Tt=function(i,e){const t=di(),n=new At({content:i,footer:t.footer.get(0),position:"centered"});return t.cancel.on("click",function(){n.remove()}),t.ok.on("click",function(){e&&e.call(),n.remove()}),n},ui=function(i){this.root=y({props:{id:"mw-handle-item-element-root"}});const e=[{title:"Duplicate",text:"",icon:'<svg fill="currentColor" width="24" height="24" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg>',className:"mw-handle-clone-button",onTarget:function(t,n){n.style.display=t.classList.contains("cloneable")?"":"none"},action:function(t){y(t).after(t.outerHTML)}},{title:"Move backward",text:"",icon:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" width="24" height="24" ><path d="M20 13.5C20 17.09 17.09 20 13.5 20H6V18H13.5C16 18 18 16 18 13.5S16 9 13.5 9H7.83L10.91 12.09L9.5 13.5L4 8L9.5 2.5L10.92 3.91L7.83 7H13.5C17.09 7 20 9.91 20 13.5Z" /></svg>',className:"mw-handle-move-back-button",onTarget:function(t,n){const s=t.classList.contains("cloneable"),o=t.previousElementSibling;n.style.display=s&&o?"":"none"},action:function(t){const n=t.previousElementSibling;n&&(n.before(t),i.elementHandle.set(t))}},{title:"Move forward",text:"",icon:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" width="24" height="24"><path d="M10.5 18H18V20H10.5C6.91 20 4 17.09 4 13.5S6.91 7 10.5 7H16.17L13.08 3.91L14.5 2.5L20 8L14.5 13.5L13.09 12.09L16.17 9H10.5C8 9 6 11 6 13.5S8 18 10.5 18Z" /></svg>',className:"mw-handle-move-back-button",onTarget:function(t,n){const s=t.classList.contains("cloneable"),o=t.nextElementSibling;n.style.display=s&&o?"":"none"},action:function(t){const n=t.nextElementSibling;n&&(n.after(t),i.elementHandle.set(t))}}];this.menu=new X({id:"mw-handle-item-element-menu",title:"Element",buttons:[{title:"Settings",text:"",icon:'<svg xmlns="http://www.w3.org/2000/svg" fill="currentColor" width="24" height="24" viewBox="0 0 24 24"><path d="M12,8A4,4 0 0,1 16,12A4,4 0 0,1 12,16A4,4 0 0,1 8,12A4,4 0 0,1 12,8M12,10A2,2 0 0,0 10,12A2,2 0 0,0 12,14A2,2 0 0,0 14,12A2,2 0 0,0 12,10M10,22C9.75,22 9.54,21.82 9.5,21.58L9.13,18.93C8.5,18.68 7.96,18.34 7.44,17.94L4.95,18.95C4.73,19.03 4.46,18.95 4.34,18.73L2.34,15.27C2.21,15.05 2.27,14.78 2.46,14.63L4.57,12.97L4.5,12L4.57,11L2.46,9.37C2.27,9.22 2.21,8.95 2.34,8.73L4.34,5.27C4.46,5.05 4.73,4.96 4.95,5.05L7.44,6.05C7.96,5.66 8.5,5.32 9.13,5.07L9.5,2.42C9.54,2.18 9.75,2 10,2H14C14.25,2 14.46,2.18 14.5,2.42L14.87,5.07C15.5,5.32 16.04,5.66 16.56,6.05L19.05,5.05C19.27,4.96 19.54,5.05 19.66,5.27L21.66,8.73C21.79,8.95 21.73,9.22 21.54,9.37L19.43,11L19.5,12L19.43,13L21.54,14.63C21.73,14.78 21.79,15.05 21.66,15.27L19.66,18.73C19.54,18.95 19.27,19.04 19.05,18.95L16.56,17.95C16.04,18.34 15.5,18.68 14.87,18.93L14.5,21.58C14.46,21.82 14.25,22 14,22H10M11.25,4L10.88,6.61C9.68,6.86 8.62,7.5 7.85,8.39L5.44,7.35L4.69,8.65L6.8,10.2C6.4,11.37 6.4,12.64 6.8,13.8L4.68,15.36L5.43,16.66L7.86,15.62C8.63,16.5 9.68,17.14 10.87,17.38L11.24,20H12.76L13.13,17.39C14.32,17.14 15.37,16.5 16.14,15.62L18.57,16.66L19.32,15.36L17.2,13.81C17.6,12.64 17.6,11.37 17.2,10.2L19.31,8.65L18.56,7.35L16.15,8.39C15.38,7.5 14.32,6.86 13.12,6.62L12.75,4H11.25Z" /></svg>',className:"mw-handle-insert-button",onTarget:function(t,n){},action:function(t){i.dialog({})}},...e,{title:i.lang("Delete"),text:"",icon:'<svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor"><path d="M9,3V4H4V6H5V19A2,2 0 0,0 7,21H17A2,2 0 0,0 19,19V6H20V4H15V3H9M7,6H17V19H7V6M9,8V17H11V8H9M13,8V17H15V8H13Z" /></svg>',className:"mw-handle-insert-button",action:function(t){Tt(y("<span>Are you sure</span>"),()=>{t.remove(),i.elementHandle.hide()})}}]}),this.menu.show(),this.root.append(this.menu.root)},hi=function(i){this.root=y({props:{id:"mw-handle-item-module-root",contentEditable:!1}});var e=new X({id:"mw-handle-item-element-menu-default",title:"Module",rootScope:i,buttons:[{title:"Settings",icon:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor"><path d="M20.71,7.04C21.1,6.65 21.1,6 20.71,5.63L18.37,3.29C18,2.9 17.35,2.9 16.96,3.29L15.12,5.12L18.87,8.87M3,17.25V21H6.75L17.81,9.93L14.06,6.18L3,17.25Z" /></svg>',action:()=>{const t=mw.app.get("liveEdit").handles.get("module").getTarget();mw.app.editor.dispatch("onModuleSettingsRequest",t);var n=t.dataset.type||t.getAttribute("type");n=n.trim(),mw.app.editor.dispatch("onModuleSettingsRequest@"+n,t)}}]});this.menu=new X({id:"mw-handle-item-element-menu",title:"Module",rootScope:i,buttons:[]}),this.menu.show(),e.show(),this.root.append(this.menu.root),this.root.append(e.root)},mi=function(i){this.root=y({props:{id:"mw-handle-item-layout-root"}});const e={};this.on=(t,n)=>{e[t]?e[t].push(n):e[t]=[n]},this.dispatch=(t,n)=>{e[t]&&e[t].forEach(s=>{s.call(this,n)})},this.menu=new X({id:"mw-handle-item-layout-menu",title:i.lang("Layout"),rootScope:i,buttons:[{title:i.lang("Settings"),text:"",icon:'<svg fill="currentColor" xmlns="http://www.w3.org/2000/svg" width="21" height="21" viewBox="0 0 13.3 15.9" xml:space="preserve"><path d="M8.2,2.4L11,5.1l-8.2,8.2H0v-2.8L8.2,2.4z M11.8,4.3L9,1.6l1.4-1.4C10.5,0.1,10.7,0,10.9,0c0.2,0,0.4,0.1,0.5,0.2l1.7,1.7c0.1,0.1,0.2,0.3,0.2,0.5S13.3,2.8,13.1,3L11.8,4.3z"/><rect y="14.5" width="12" height="1.4"/></svg>',className:"mw-handle-insert-button",menu:[{title:i.lang("Add something"),text:i.lang("Add something"),icon:'<svg fill="currentColor" xmlns="http://www.w3.org/2000/svg" version="1.1" width="24" height="24" viewBox="0 0 24 24"><path d="M12,8A4,4 0 0,1 16,12A4,4 0 0,1 12,16A4,4 0 0,1 8,12A4,4 0 0,1 12,8M12,10A2,2 0 0,0 10,12A2,2 0 0,0 12,14A2,2 0 0,0 14,12A2,2 0 0,0 12,10M10,22C9.75,22 9.54,21.82 9.5,21.58L9.13,18.93C8.5,18.68 7.96,18.34 7.44,17.94L4.95,18.95C4.73,19.03 4.46,18.95 4.34,18.73L2.34,15.27C2.21,15.05 2.27,14.78 2.46,14.63L4.57,12.97L4.5,12L4.57,11L2.46,9.37C2.27,9.22 2.21,8.95 2.34,8.73L4.34,5.27C4.46,5.05 4.73,4.96 4.95,5.05L7.44,6.05C7.96,5.66 8.5,5.32 9.13,5.07L9.5,2.42C9.54,2.18 9.75,2 10,2H14C14.25,2 14.46,2.18 14.5,2.42L14.87,5.07C15.5,5.32 16.04,5.66 16.56,6.05L19.05,5.05C19.27,4.96 19.54,5.05 19.66,5.27L21.66,8.73C21.79,8.95 21.73,9.22 21.54,9.37L19.43,11L19.5,12L19.43,13L21.54,14.63C21.73,14.78 21.79,15.05 21.66,15.27L19.66,18.73C19.54,18.95 19.27,19.04 19.05,18.95L16.56,17.95C16.04,18.34 15.5,18.68 14.87,18.93L14.5,21.58C14.46,21.82 14.25,22 14,22H10M11.25,4L10.88,6.61C9.68,6.86 8.62,7.5 7.85,8.39L5.44,7.35L4.69,8.65L6.8,10.2C6.4,11.37 6.4,12.64 6.8,13.8L4.68,15.36L5.43,16.66L7.86,15.62C8.63,16.5 9.68,17.14 10.87,17.38L11.24,20H12.76L13.13,17.39C14.32,17.14 15.37,16.5 16.14,15.62L18.57,16.66L19.32,15.36L17.2,13.81C17.6,12.64 17.6,11.37 17.2,10.2L19.31,8.65L18.56,7.35L16.15,8.39C15.38,7.5 14.32,6.86 13.12,6.62L12.75,4H11.25Z" /></svg>',className:"mw-handle-insert-button"},{title:i.lang("Settings1212"),text:"Do alert",className:"mw-handle-insert-button"}]},{title:i.lang("Clone"),text:"",icon:'<svg fill="currentColor" width="24" height="24" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z" /></svg>',className:"mw-handle-insert-button",action:function(t,n,s){var o=document.createElement("div");o.innerHTML=t.outerHTML,y("[id]",o).each(function(){this.id="le-id-"+new Date().getTime()}),y(t).after(o.innerHTML);var r=t.nextElementSibling;mw.reload_module(r,function(){s.statemanager.record({target:mw.tools.firstParentWithClass(t,"edit"),value:parent.innerHTML})}),r.scrollIntoView({behavior:"smooth",block:"start",inline:"start"})}},{title:i.lang("Move Down"),text:"",icon:'<svg fill="currentColor" width="24" height="24" viewBox="0 0 24 24"><path fill="currentColor" d="M11,4H13V16L18.5,10.5L19.92,11.92L12,19.84L4.08,11.92L5.5,10.5L11,16V4Z" /></svg>',className:"mw-handle-insert-button",onTarget:function(t,n){t.nextElementSibling===null?n.style.display="none":n.style.display=""},action:function(t,n){var s=t.nextElementSibling;if(s){var o=t.getBoundingClientRect(),r=s.getBoundingClientRect(),a=0;o.top<r.top&&(a=-(o.top-r.top)),t.classList.add("mw-le-target-to-animate"),s.classList.add("mw-le-target-to-animate"),t.style.transform="translateY("+a+"px)",s.style.transform="translateY("+-a+"px)",setTimeout(function(){s.parentNode.insertBefore(t,s.nextSibling),t.classList.remove("mw-le-target-to-animate"),s.classList.remove("mw-le-target-to-animate"),t.style.transform="",s.style.transform="",t.scrollIntoView({behavior:"smooth",block:"start",inline:"start"}),i.layoutHandle.set(t,!0)},300)}}},{title:i.lang("Move up"),text:"",icon:'<svg fill="currentColor" width="24" height="24" viewBox="0 0 24 24"><path fill="currentColor" d="M13,20H11V8L5.5,13.5L4.08,12.08L12,4.16L19.92,12.08L18.5,13.5L13,8V20Z" /></svg>',className:"mw-handle-insert-button",onTarget:function(t,n,s){t.previousElementSibling===null?n.style.display="none":n.style.display=""},action:function(t,n){var s=t.previousElementSibling;if(s){var o=t.getBoundingClientRect(),r=s.getBoundingClientRect(),a=0;o.top>r.top&&(a=-(o.top-r.top)),t.classList.add("mw-le-target-to-animate"),s.classList.add("mw-le-target-to-animate"),t.style.transform="translateY("+a+"px)",s.style.transform="translateY("+-a+"px)",setTimeout(function(){s.parentNode.insertBefore(t,s),t.classList.remove("mw-le-target-to-animate"),s.classList.remove("mw-le-target-to-animate"),t.style.transform="",s.style.transform="",i.layoutHandle.set(t,!0),t.scrollIntoView({behavior:"smooth",block:"start",inline:"start"})},300)}}},{title:i.lang("Delete"),text:"",icon:'<svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor"><path  d="M9,3V4H4V6H5V19A2,2 0 0,0 7,21H17A2,2 0 0,0 19,19V6H20V4H15V3H9M7,6H17V19H7V6M9,8V17H11V8H9M13,8V17H15V8H13Z" /></svg>',className:"mw-handle-insert-button",action:function(t,n,s){Tt("Are you sure",function(){t.remove()})}}]}),this.addButtons=function(){var t="Add Layout",n=s=>{this.dispatch("insertLayoutRequest"),this.dispatch("insertLayoutRequestOn"+s.charAt(0).toUpperCase()+s.slice(1))};this.plusTop=y({props:{className:"mw-handle-item-layout-plus mw-handle-item-layout-plus-top",innerHTML:i.lang(t)}}),this.plusBottom=y({props:{className:"mw-handle-item-layout-plus mw-handle-item-layout-plus-bottom",innerHTML:i.lang(t)}}),this.plusTop.on("click",function(){n("top")}),this.plusBottom.on("click",function(){n("bottom")}),this.root.append(this.plusTop),this.root.append(this.plusBottom)},this.menu.show(),this.addButtons(),this.root.append(this.menu.root)},it={en:{Layout:"Layout","Add layout":"Add layout",Title:"Title",Settings:"Settings",Paragraph:"Paragraph",Text:"Text"},bg:{}},fi=(i,e)=>((!e||!it[e])&&(e="en"),it[e][i]||i),pi=function(i){this.root=y({props:{id:"mw-handle-interaction-item-element-root"}}),this.menu=new X({id:"mw-handle-item-element-menu",title:"Element",buttons:[]}),this.menu.show(),this.root.append(this.menu.root)};class gi{constructor(e){const t=this,n={};this.on=(m,h)=>{n[m]?n[m].push(h):n[m]=[h]},this.dispatch=(m,h)=>{n[m]&&n[m].forEach(p=>{p.call(this,h)})},this.paused=!1;var s={elementClass:"element",backgroundImageHolder:"background-image-holder",cloneableClass:"cloneable",editClass:"edit",stateManager:null,moduleClass:"module",nodrop:"nodrop",allowDrop:"allow-drop",unEditableModules:['[type="template_settings"]'],frameworksClasses:{col:["col","mw-col"]},document,mode:"manual",lang:"en",strict:!0,strictLayouts:!1,viewWindow:window};this.settings=k.extend({},s,e),this.document=this.settings.document,this.stateManager=this.settings.stateManager,this.lang=function(m){return fi(m,this.settings.lang)},this.settings.root||(this.settings.root=this.settings.document.body),this.root=this.settings.root,this.elementAnalyzer=new St(this.settings),this.dropIndicator=new li(this.settings);const o=new ui(this),r=new hi(this),a=new mi(this);this.elementHandleContent=o,this.moduleHandleContent=r,this.layoutHandleContent=a,this.layoutHandleContent.on("insertLayoutRequest",()=>{this.dispatch("insertLayoutRequest")}),this.dialog=function(m){m||(m={});var h={document:window.top.document,position:r.menu.getTarget(),mode:"absolute"};t.pause();const p=new At(k.extend({},h,m));return p.on("close",function(){t.play()}),p};var c=this.elementHandle=new ae({...this.settings,dropIndicator:this.dropIndicator,content:o.root,handle:o.menu.title,document:this.settings.document,stateManager:this.settings.stateManager,resizable:!0});this.isResizing=!1,c.resizer.on("resizeStart",m=>this.isResizing=!0),c.resizer.on("resizeStop",m=>this.isResizing=!1),c.on("targetChange",function(m){o.menu.setTarget(m),m.className.includes("col-")?c.resizer.disable():c.resizer.enable()}),this.moduleHandle=new ae({...this.settings,dropIndicator:this.dropIndicator,content:r.root,handle:r.menu.title,document:this.settings.document,stateManager:this.settings.stateManager,resizable:!0});var l=this.moduleHandle;this.getModuleQuickSettings=m=>new Promise(h=>{h(mw.quickSettings[m]),this.dispatch("moduleQuickSettings",{module:m})}),l.on("targetChange",function(m){t.getModuleQuickSettings(m.dataset.type).then(function(h){r.menu.root.remove(),r.menu=new X({id:"mw-handle-item-element-menu",title:m.dataset.type,rootScope:t,buttons:h?h.mainMenu||[]:[],data:{target:m}}),r.menu.setTarget(m),r.menu.show(),r.root.append(r.menu.root)})}),this.layoutHandle=new ae({...this.settings,dropIndicator:this.dropIndicator,content:a.root,handle:a.menu.title,document:this.settings.document,stateManager:this.settings.stateManager,type:"layout"});var u=this.layoutHandle,f=t.lang("Layout");a.menu.setTitle(f),u.on("targetChange",function(m){a.menu.setTarget(m),a.menu.setTitle(f),t.elementAnalyzer.isEditOrInEdit(m)?(a.plusTop.show(),a.plusBottom.show()):(a.plusTop.hide(),a.plusBottom.hide())}),a.handle=u,r.handle=l,o.handle=c;const w=new pi;this.interactionHandle=new ae({...this.settings,content:w.root,document:this.settings.document,resizable:!1,className:"mw-handle-item-interaction-handle"}),this.interactionHandle.menu=w.menu,this.handles=new ai({element:c,module:l,layout:u,interactionHandle:this.interactionHandle}),this.observe=new ti(this.settings),this.init()}play(){this.paused=!1}pause(){this.handles.hide(),this.paused=!0}init(){this.settings.mode==="auto"&&setInterval(()=>ri(this),1e3);const e=n=>{if(this.handles.targetIsOrInsideHandle(n))return;const s=this.observe.fromEvent(n);let o=s[0];if(o.nodeName!=="IMG"&&(o=L.firstBlockLevel(s[0])),this.handles.get("element").set(null),this.handles.hide(),o){const r=this.elementAnalyzer.getType(o);r&&r!=="edit"&&(this.handles.set(r,s[0]),r==="element"?this.handles.hide("module"):r==="module"?this.handles.hide("element"):r==="layout"?this.handles.set("layout",layout):this.handles.hide())}else{const r=L.firstParentOrCurrentWithAnyOfClasses(n.target,["module-layouts"]);r&&this.handles.set("layout",r)}};let t;t="mousedown touchstart",y(this.root).on("mousemove",n=>{if(this.paused||this.isResizing){this.interactionHandle.hide();return}if(this.handles.targetIsOrInsideHandle(n)){this.interactionHandle.hide();return}const s=this.observe.fromEvent(n),o=L.firstParentOrCurrentWithAnyOfClasses(s[0],["element","module","cloneable"]),r=L.firstParentOrCurrentWithAnyOfClasses(n.target,["module-layouts"]);let a=!1;if(r){const l=this.handles.get("element").getTarget(),u=this.handles.get("module").getTarget();r.contains(l)&&(a=!0),r.contains(u)&&(a=!0),a?this.handles.hide("layout"):this.handles.set("layout",r)}if(o&&!this.handles.targetIsSelected(o,this.interactionHandle)&&!o.classList.contains("module-layouts")){var c="";o.dataset.mwTitle?c=o.dataset.mwTitle:o.dataset.type?c=o.dataset.type:o.nodeName==="P"?c=this.lang("Paragraph"):/(H[1-6])/.test(o.nodeName)?c=this.lang("Title")+" "+o.nodeName.replace(/^\D+/g,""):o.nodeName==="IMG"||o.nodeName==="IMAGE"?c=this.lang("Image"):["H1","H2","H3","H4","H5","H6"].includes(o.nodeName)?c=this.lang("Title "+o.nodeName.replace("H","")):["DIV","MAIN","SECTION"].includes(o.nodeName)?c=this.lang("Block"):c=this.lang("Text"),this.interactionHandle.menu.setTitle(c),this.interactionHandle.show(),this.interactionHandle.set(o)}else this.interactionHandle.hide()}),y(this.root).on(t,n=>{this.paused||e(n)})}}globalThis.LiveEdit=gi;const Oi=`.mw-drop-indicator{position:absolute;pointer-events:none!important;z-index:1001;margin:0!important;padding:0!important;border-color:#111;border-style:solid;border-width:0}.mw-drop-indicator.mw-drop-indicator-position-top{border-top-width:2px}.mw-drop-indicator.mw-drop-indicator-position-bottom{border-bottom-width:2px}@keyframes mwLiveEditDropIndicatorAnimationUp{0%,to{top:30px;opacity:1}50%{top:40px;opacity:.6}}@keyframes mwLiveEditDropIndicatorAnimationDown{0%,to{top:-30px;opacity:1}50%{top:-40px;opacity:.6}}.mw-drop-indicator-template-default .mw-drop-indicator-pin{position:absolute;left:50%;width:24px;height:24px;background-repeat:no-repeat;background-size:contain;background-image:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24' viewBox='0 0 24 24'%3E%3Cpath fill='currentColor' d='M9,4H15V12H19.84L12,19.84L4.16,12H9V4Z' /%3E%3C/svg%3E");bottom:0;transition:transform .2s;transform:rotate(180deg);top:30px;display:inline-block}.mw-drop-indicator-template-default.mw-drop-indicator-position-before-top .mw-drop-indicator-pin{margin-top:-70px;transform:rotate(0)}.mw-drop-indicator-template-default.mw-drop-indicator-position-after-bottom .mw-drop-indicator-pin{margin-top:50px}.mw-drop-indicator-template-default.mw-drop-indicator-hidden .mw-drop-indicator-pin,.mw-drop-indicator-template-default.mw-drop-indicator-position-prepend-top .mw-drop-indicator-pin,.mw-drop-indicator-template-default.mw-drop-indicator-position-append-bottom .mw-drop-indicator-pin{display:none;animation:none}.mw-drop-indicator-template-default .mw-drop-indicator-block{transform:scale(1);pointer-events:none!important;background-color:#111;position:absolute}.mw-drop-indicator-template-default.mw-drop-indicator-hidden{opacity:0;transform:scale(.8);visibility:hidden!important}.mw-drop-indicator-template-default.mw-drop-indicator-position-after-bottom .mw-drop-indicator-block,.mw-drop-indicator-template-default.mw-drop-indicator-position-before-top .mw-drop-indicator-block{height:5px;width:100%;left:0}.mw-drop-indicator-template-default.mw-drop-indicator-position-append-bottom .mw-drop-indicator-block,.mw-drop-indicator-template-default.mw-drop-indicator-position-prepend-top .mw-drop-indicator-block{height:45px;width:100%;background-color:#00000054;left:0}.mw-drop-indicator-template-default.mw-drop-indicator-position-prepend-top .mw-drop-indicator-block,.mw-drop-indicator-template-default.mw-drop-indicator-position-before-top .mw-drop-indicator-block{top:0}.mw-drop-indicator-template-default.mw-drop-indicator-position-append-bottom .mw-drop-indicator-block,.mw-drop-indicator-template-default.mw-drop-indicator-position-after-bottom .mw-drop-indicator-block{bottom:0}.mw-drop-indicator-template-default.mw-drop-indicator-position-after-bottom .mw-drop-indicator-pin{animation:mwLiveEditDropIndicatorAnimationDown 2s linear infinite}.mw-drop-indicator-template-default.mw-drop-indicator-position-before-top .mw-drop-indicator-pin{animation:mwLiveEditDropIndicatorAnimationUp 2s linear infinite}.mw-handle-item{position:absolute;z-index:999;cursor:default;-webkit-user-select:none;-moz-user-select:none;user-select:none;border:3px solid #0078ff;transition:opacity .2s;pointer-events:none}.mw-handle-item.mw-le-resizable{position:absolute}.mw-handle-item.mw-handle-item-interaction-handle{pointer-events:none}.mw-handle-item.mw-handle-item-dragging{border-color:transparent}.mw-handle-item.mw-handle-item-dragging *{opacity:0!important}.mw-handle-item.mw-handle-item-hidden{opacity:0;visibility:hidden}.mw-handle-item .mw-handlemenu-item{pointer-events:all}.mw-draggable-helper{position:absolute;z-index:10;background-color:#7775757d;pointer-events:none}.mw-le-handle-menu{position:absolute;color:#404040}.mw-le-handle-menu .mw-le-handle-menu-buttons{height:42px;border-radius:7px;border:1px solid transparent;padding:3px 12px;display:inline-flex;align-items:center;background-color:#fff;pointer-events:all;box-shadow:#11111a1a 0 4px 16px,#11111a0d 0 8px 32px;position:absolute;top:-40px;left:-3px;transition:.2s;opacity:0;transform:translateY(10px)}.mw-le-handle-menu .mw-le-handle-menu-buttons:empty{display:none!important}.mw-le-handle-menu *{vertical-align:middle}.mw-handle-item.mw-handle-active .mw-le-handle-menu .mw-le-handle-menu-buttons{opacity:1;transform:translateY(0)}#mw-handle-item-element-menu{top:-22px;left:-3px}#mw-handle-item-layout-menu{top:5px;right:5px;left:auto}#mw-handle-item-layout-menu .mw-le-handle-menu-buttons{left:auto;right:5px;top:5px}#mw-handle-item-layout-menu .mw-le-handle-menu-title{display:none}.mw-le-handle-menu-buttons{display:inline-block;white-space:nowrap}.mw-le-handle-menu-buttons>.mw-le-handle-menu-button{display:inline-flex;width:32px;height:32px;margin:0 2px;border-radius:3px;cursor:pointer;text-align:center;justify-content:center;align-items:center;transition:.3s;font-size:19px}.mw-le-handle-menu-buttons>.mw-le-handle-menu-button:hover{background-color:#000}.mw-le-handle-menu-button-sub-menu{display:flex;flex-wrap:nowrap;padding:10px 0;position:absolute;visibility:hidden;opacity:0;transform:scaleY(.5);transform-origin:center top;transition:.2s;top:100%;left:0;background-color:#fff;box-shadow:0 4px 16px #11111a1a,0 8px 32px #11111a0d}.mw-le-handle-menu-button-sub-menu .mw-le-handle-menu-button{display:block;white-space:nowrap;padding:5px 10px;text-align:left;transition:background-color .3s}.mw-le-handle-menu-button-sub-menu .mw-le-handle-menu-button:hover{background-color:#000}.mw-le-handle-menu-button.sub-menu-active>.mw-le-handle-menu-button-sub-menu{visibility:visible;opacity:1;transform:scaleY(1)}.mw-le-handle-menu-button-content{display:inline-flex;white-space:nowrap;flex-wrap:nowrap;align-items:center}.mw-le-handle-menu-button-content .mw-le-handle-menu-button-text{font-size:14px}.mw-le-handle-menu-title{display:none;align-items:center;justify-content:center;padding:0 5px;height:20px;-webkit-user-select:none;-moz-user-select:none;user-select:none;cursor:grab;background-color:#0078ff;color:#fff}.mw-handle-item-interaction-handle .mw-le-handle-menu-title{display:inline-flex}.mw-le-handle-menu-button-icon{display:inline-flex;white-space:nowrap;align-items:center;margin-inline:6px}.mw-le-handle-menu-button-icon svg,.mw-le-handle-menu-button-icon .mdi,.mw-le-handle-menu-button-icon .material-icons,.mw-le-handle-menu-button-icon .fa{max-width:25px;max-height:25px;display:inline-block}.mw-le-handle-menu-button-icon svg{width:25px;height:25px}.mw-le-handle-menu-button-icon *{max-width:31px;max-height:31px}.mw-le-handle-menu-title-text{font-size:12px}.mw-handle-item-layout-plus{font-size:12px;display:inline-flex;position:absolute;pointer-events:all;min-width:100px;text-align:center;align-items:center;justify-content:center;white-space:nowrap;background-color:#0078ff;color:#fff;border-radius:7px;cursor:pointer;left:50%;transform:translate(-50%);height:30px;padding:0 15px;box-shadow:#11111a1a 0 4px 16px,#11111a0d 0 8px 32px}.mw-handle-item-layout-plus.mw-handle-item-layout-plus-top{top:0;margin-top:-15px}.mw-handle-item-layout-plus.mw-handle-item-layout-plus-bottom{bottom:0;margin-bottom:-15px}.mw-handle-item-layout-plus:hover{background-color:#016ce6}.mw-handle-item-element-image-control{position:absolute;top:20%;left:50%;width:44px;height:44px;margin-left:-22px;border-radius:50px;background-color:#fff;box-shadow:#0000000d 0 6px 24px,#00000014 0 0 0 1px;cursor:pointer;pointer-events:all;display:flex;align-items:center;justify-content:center;background-size:20px auto;background-position:center;background-repeat:no-repeat;background-image:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' style='width:24px;height:24px' viewBox='0 0 24 24'%3E%3Cpath fill='currentColor' d='M8.5,13.5L11,16.5L14.5,12L19,18H5M21,19V5C21,3.89 20.1,3 19,3H5A2,2 0 0,0 3,5V19A2,2 0 0,0 5,21H19A2,2 0 0,0 21,19Z' /%3E%3C/svg%3E")}.mw-handle-item-element-image-control>input{position:absolute;top:0}.mw-element-is-dragged{opacity:0;pointer-events:none}html.le-dragging .mw-handle-item{opacity:0!important}.mw-handle-item.mw-le-resizable .mw-le-resizer:before,.mw-handle-item.mw-le-resizable .mw-le-resizer:after{position:absolute;width:9px;height:9px;background-color:#fff;border:2px solid #2a84fb;content:""}.mw-handle-item.mw-le-resizable .mw-le-resizer-l:before,.mw-handle-item.mw-le-resizable .mw-le-resizer-l:after{left:-6px}.mw-handle-item.mw-le-resizable .mw-le-resizer-l:before{top:-6px;cursor:nw-resize}.mw-handle-item.mw-le-resizable .mw-le-resizer-l:after{top:calc(50% - 6px)}.mw-handle-item.mw-le-resizable .mw-le-resizer-r:before,.mw-handle-item.mw-le-resizable .mw-le-resizer-r:after{left:2px}.mw-handle-item.mw-le-resizable .mw-le-resizer-r:before{bottom:-6px;cursor:nw-resize}.mw-handle-item.mw-le-resizable .mw-le-resizer-r:after{bottom:calc(50% - 6px)}.mw-handle-item.mw-le-resizable .mw-le-resizer-b:before,.mw-handle-item.mw-le-resizable .mw-le-resizer-b:after{top:2px}.mw-handle-item.mw-le-resizable .mw-le-resizer-b:before{left:-6px;cursor:ne-resize}.mw-handle-item.mw-le-resizable .mw-le-resizer-b:after{left:calc(50% - 4px)}.mw-handle-item.mw-le-resizable .mw-le-resizer-t:before,.mw-handle-item.mw-le-resizable .mw-le-resizer-t:after{top:-6px}.mw-handle-item.mw-le-resizable .mw-le-resizer-t:before{right:-6px;cursor:ne-resize}.mw-handle-item.mw-le-resizable .mw-le-resizer-t:after{right:calc(50% - 5px)}.le-dialog-overlay{position:fixed;top:0;left:0;z-index:122;width:100%;height:100%;background-color:#0000000d}.le-dialog-close{width:30px;height:30px;background-repeat:no-repeat;background-position:center;background-size:25px 25px;position:absolute;top:5px;right:5px;cursor:pointer;background-image:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' style='width:24px;height:24px' viewBox='0 0 24 24'%3E%3Cpath fill='currentColor' d='M19,6.41L17.59,5L12,10.59L6.41,5L5,6.41L10.59,12L5,17.59L6.41,19L12,13.41L17.59,19L19,17.59L13.41,12L19,6.41Z' /%3E%3C/svg%3E")}.le-dialog{max-width:90%;position:fixed;top:50%;left:50%;transform:scale(.8);transform-origin:center center;z-index:1024;transition:.3s;visibility:hidden;opacity:0;pointer-events:none;min-width:320px}.le-dialog.le-dialog-centered{transform:scale(.8) translate(-50%,-50%)}.le-dialog.le-dialog-centered.le-dialog-opened{transform:scale(1) translate(-50%,-50%)}.le-dialog.le-dialog-opened{visibility:visible;opacity:1;pointer-events:auto;transform:scale(1)}.le-dialog .le-dialog-container{padding:20px;background-color:#fff;border-radius:5px;box-shadow:#32325d40 0 6px 12px -2px,#0000004d 0 3px 7px -3px}.mw-le-resizable{position:relative}.mw-le-resizable.mw-le-resizable-disabled .mw-le-resizer{display:none}.mw-le-resizer{position:absolute;pointer-events:all}.mw-le-resizer-r{cursor:e-resize;height:100%;right:0;top:0;width:5px}.mw-le-resizer-l{cursor:e-resize;height:100%;left:0;top:0;width:5px}.mw-le-resizer-b{bottom:0;cursor:n-resize;height:5px;left:0;width:100%}.mw-le-resizer-t{top:0;cursor:n-resize;height:5px;left:0;width:100%}mw-le-element{display:block;line-height:normal;font-weight:400;font-style:normal;list-style:none;letter-spacing:normal;word-spacing:normal}mw-le-element,mw-le-element *,mw-le-element *:before,mw-le-element *:after{margin:0;padding:0;font-family:Verdana,sans-serif;box-sizing:border-box}.edit.mw-le-target-to-animate,.element.mw-le-target-to-animate,.module.mw-le-target-to-animate{transition:transform .3s!important}.le-selectable-items-list-image{background-size:contain;background-repeat:no-repeat;background-position:center;height:120px}.le-selectable-items-list-type-layouts .le-selectable-items-list-image{background-size:cover}
`;var T,P,V,te,De,ne,Me,we,kt;class _t{constructor(e={}){E(this,te);E(this,ne);E(this,we);E(this,T,null);E(this,P,{});N(this,"selectedCategory","");E(this,V,[]);N(this,"root",null);const t={mode:"local",document,encapsulate:!1,css:!1,searchMode:"local",data:[],skin:"defaultModules"};this.settings=Object.assign({},t,e),this.document=this.settings.document}on(e,t){g(this,P)[e]?g(this,P)[e].push(t):g(this,P)[e]=[t]}dispatch(e,t){g(this,P)[e]&&g(this,P)[e].forEach(n=>{n.call(this,t)})}getData(){return g(this,T)}setData(e,t=!0){j(this,T,e);let n=0,s=g(this,T).length;for(;n<s;n++)typeof g(this,T)[n].categories=="string"&&(g(this,T)[n].categories=g(this,T)[n].categories.split(",").map(o=>o.trim()));t&&this.dispatch("dataChanged",g(this,T))}prepareCategories(){const e=[],t=this.getData();let n=0,s=t.length;for(;n<s;n++){let r=t[n].categories||"",a=0,c=r.length;for(;a<c;a++){const l=r[a].trim();e.indexOf(l)===-1&&e.push(l)}}e.sort(),this.categories=e}createCategoriesMenu(){const e=this.document.createElement("ul");this.prepareCategories(),e.className="modules-list-categories",e.innerHTML=this.categories.map(t=>`<li data-category="${t}">${t}</li>`).join(""),e.innerHTML=`<li data-category="">All categories</li> ${e.innerHTML}`,e.addEventListener("click",t=>{t.target.nodeName==="LI"&&this.selectCategory(t.target.dataset.category)}),this.categoriesNavigation=e,this.rootShadow.appendChild(e),this.on("categorySelect",t=>{const n=e.querySelectorAll("[data-category]");for(const s of n)s.classList[s.dataset.category===t?"add":"remove"]("active")})}selectCategory(e=""){this.selectedCategory=e,this.search(e),this.dispatch("categorySelect",e)}createRoot(){if(this.root=this.document.createElement("div"),this.root.className="modules-list modules-list-"+this.settings.skin,this.rootShadow=this.settings.encapsulate?this.root.attachShadow({mode:"open"}):this.root,this.settings.css){let e=document.createElement("style");e.textContent=this.settings.css,this.rootShadow.appendChild(e)}}renderModulesCategorized(){this.modulesList=this.document.createElement("div"),this.modulesList.className="modules-list-block",this.modulesListNoResultsNode=this.document.createElement("div"),this.modulesListNoResultsNode.className="modules-list-block-no-results",this.modulesListNoResultsNode.innerHTML="Nothing found...",this.modulesListNoResultsNode.style.display="none";const e=this.getData();let t=0,n=e.length;const s={miscellaneous:A(this,ne,Me).call(this,"miscellaneous")};for(;t<n;t++)(e[t].categories||["miscellaneous"]).forEach(r=>{s[r]||(s[r]=A(this,ne,Me).call(this,r));const a=A(this,te,De).call(this,e[t]);g(this,V).push(a),s[r].appendChild(a),s[r].__$hasNodes=!0});for(const o in s)s[o].__$hasNodes&&this.modulesList.appendChild(s[o]);this.rootShadow.appendChild(this.modulesList),this.modulesList.appendChild(this.modulesListNoResultsNode)}renderModules(){this.modulesList=this.document.createElement("div"),this.modulesList.className="modules-list-block",this.modulesListNoResultsNode=this.document.createElement("div"),this.modulesListNoResultsNode.className="modules-list-block-no-results",this.modulesListNoResultsNode.innerHTML="Nothing found...",this.modulesListNoResultsNode.style.display="none";const e=this.getData();let t=0,n=e.length;for(;t<n;t++){const s=A(this,te,De).call(this,e[t]);g(this,V).push(s),this.modulesList.appendChild(s)}this.rootShadow.appendChild(this.modulesList),this.modulesList.appendChild(this.modulesListNoResultsNode)}hideItem(e){e.nodeName&&(e.style.display="none")}showItem(e){e.nodeName&&(e.style.display="")}createSearchGUI(){this.searchBlock=this.document.createElement("div"),this.searchField=this.document.createElement("input"),this.searchField.type="text",this.searchField.placeholder="Type to Search...",this.searchBlock.className="modules-list-search-block",this.searchField.className="modules-list-search-field",this.searchBlock.appendChild(this.searchField),this.rootShadow.appendChild(this.searchBlock),this.searchField.addEventListener("input",e=>this.search(void 0,this.searchField.value)),this.on("categorySelect",e=>{this.searchField.value=""})}async search(e="",t=""){if(this.settings.searchMode==="local")return A(this,we,kt).call(this,e,t)}async createCategorized(){return this.setData(this.settings.data),this.createRoot(),this.createSearchGUI(),this.renderModulesCategorized(),new Promise(e=>{e(this)})}async create(){return this.setData(this.settings.data),this.createRoot(),this.createCategoriesMenu(),this.renderModules(),this.createSearchGUI(),new Promise(e=>{e(this)})}}T=new WeakMap,P=new WeakMap,V=new WeakMap,te=new WeakSet,De=function(e){e.locked=e.description.includes("a");const t=this.document.createElement("div");return t.className="modules-list-block-item modules-list-block-item-is-locked-"+e.locked,t.__$data=e,t.innerHTML=`
            <div class="modules-list-block-item-picture" style="background-image: url(${e.icon||e.screenshot||e.image})"></div>
            <div class="modules-list-block-item-title">${e.name||e.title}</div>
            <div class="modules-list-block-item-description">${e.description}</div>
            ${e.locked?'<span class="modules-list-block-item-locked-badge">PRO</span>':""}
        `,t.addEventListener("click",n=>{n.stopPropagation(),t.__$data.locked?this.dispatch("lockedModuleSelected",{data:e,element:t}):this.dispatch("moduleSelected",{data:e,element:t})}),t.$data=e,t},ne=new WeakSet,Me=function(e){const t=this.document.createElement("div");return t.className="modules-list-block-category-section",t.innerHTML='<div class="modules-list-block-category-section-title"><h5>'+e+"</h5></div>",t.__$hasNodes=!1,t},we=new WeakSet,kt=async function(e,t){return e&&(e=e.trim().toLowerCase()),t&&(t=t.trim().toLowerCase()),new Promise(n=>{let s=0,o=g(this,V).length,r=0;for(;s<o;s++){const a=g(this,V)[s],c=a.$data;if(e&&c.categories.indexOf(e)===-1){this.hideItem(a);continue}if(t&&(c.name||c.title).toLowerCase().indexOf(t)===-1){this.hideItem(a);continue}this.showItem(a),r++}console.log(t,e),this.modulesListNoResultsNode.style.display=r===0?"":"none",n()})};const fe=[],Ht=function(i){fe.push(this),this.dialog=mw.element({props:{className:"mw-le-dialog-block "+i}}),this.overlay=mw.element({props:{className:"mw-le-overlay"}}),this.open=function(){this.dialog.addClass("active"),this.overlay.addClass("active"),this.closeButton.addClass("active")},this.close=function(){this.dialog.removeClass("active"),this.overlay.removeClass("active"),this.closeButton.removeClass("active")},this.remove=function(){this.close(),setTimeout(()=>{this.dialog.remove(),this.overlay.remove(),this.closeButton.remove()},400)},this.closeButton=mw.element({props:{className:"mw-le-dialog-close"}}),this.closeButton.on("click",e=>{this.remove()}),mw.element(document.body).append(this.overlay),mw.element(document.body).append(this.dialog),mw.element(document.body).append(this.closeButton),setTimeout(()=>{this.open()},100)};document.addEventListener("keydown",function(i){(i.key==="Escape"||i.keyCode===27)&&fe.length>0&&(fe[0].remove(),fe.splice(0,1))});var Be,st=function(i){var e=new _t({data:Be});e.create().then(function(){var t=mw.element({props:{className:"mw-le-layouts-dialog-row"}}),n=mw.element({props:{className:"mw-le-layouts-dialog-col"}}),s=mw.element({props:{className:"mw-le-layouts-dialog-col"}});t.append(n),t.append(s),mw.element(e.root).append(t),n.append(e.searchBlock);var o=mw.element({props:{innerHTML:"Categories",className:"mw-le-layouts-dialog-categories-title"}});n.append(o),n.append(e.categoriesNavigation),s.append(e.modulesList),i.append(e.root)})};const wi=()=>{var i=new Ht("mw-le-layouts-dialog"),e=i.dialog;if(Be){st(e);return}mw.spinner({element:e.get(0),decorate:!0}),fetch(`${mw.settings.site_url}api/module/list?layout_type=layout&elements_mode=true&group_layouts_by_category=true`).then(function(t){return t.json()}).then(function(t){Be=t,st(e),mw.spinner({element:e.get(0),decorate:!0}).remove()})};var ze,ot=function(i){var e=new _t({data:ze});e.createCategorized().then(function(){i.append(e.root)})};const yi=()=>{var i=new Ht("mw-le-modules-dialog"),e=i.dialog;mw.$("#mw-plus-tooltip-selector li").each(function(){this.onclick=function(){var t=mw.$(this).attr("data-module-name"),n={class:this.className};t==="layout"&&(n.template=mw.$(this).attr("template")),mw.module.insert(mw._activeElementOver,t,n,mw.handleElement.positionedAt,mw.liveEditState),mw.wysiwyg.change(mw._activeElementOver),tooltip.remove()}}),ze?ot(e):(mw.spinner({element:e.get(0),decorate:!0}),fetch(`${mw.settings.site_url}api/module/list?layout_type=module`).then(function(t){return t.json()}).then(function(t){ze=t,ot(e),mw.spinner({element:e.get(0),decorate:!0}).remove()}))},bi={cssEditor:function(){document.getElementById("css-editor-template").classList.toggle("active")},themeEditor:function(){document.getElementById("general-theme-settings").classList.toggle("active")},insertModule:function(){return yi()},insertLayout:function(){return wi()}},vi={modulesListData:null,list:async function(){return this.modulesListData?this.modulesListData:(await ge.get(route("api.module.list")+"?layout_type=module").then(i=>{this.modulesListData=i.data}),this.modulesListData)},modulesSkinsData:[],getSkins:async function(i){if(this.modulesSkinsData[i])return this.modulesSkinsData[i];if(await ge.get(route("api.module.getSkins")+"?module="+i).then(e=>{this.modulesSkinsData[i]=e.data}),this.modulesSkinsData[i])return this.modulesSkinsData[i]}},xi={layoutsListData:null,list:async function(){return this.layoutsListData?this.layoutsListData:(await ge.get(route("api.module.list")+"?layout_type=layout&elements_mode=true&group_layouts_by_category=true").then(i=>{this.layoutsListData=i.data}),this.layoutsListData)},layoutSkinsData:[],getSkins:async function(){var i="layouts";if(this.layoutSkinsData[i])return this.layoutSkinsData[i];if(await ge.get(route("api.module.getSkins")+"?module="+i).then(e=>{this.layoutSkinsData[i]=e.data}),this.layoutSkinsData[i])return this.layoutSkinsData[i]}};class Ei extends ye{constructor(){super()}onRegister(){}}class Ci extends ye{selectIcon(e){var t=$(e)[0];mw.iconLoader().init();var n=mw.iconPicker({iconOptions:!1});n.target=document.createElement("i"),n.on("select",function(s){s.render(),t.value=n.target.outerHTML;var o=new Event("input");t.dispatchEvent(o),n.dialog("hide")}),n.dialog()}removeIcon(e){var t=$(e)[0];t.value="";var n=new Event("input");t.dispatchEvent(n)}}class Li extends ye{selectLink(e){var t=new(mw.top()).LinkEditor({mode:"dialog",controllers:[{type:"url",config:{text:!1,target:!1}},{type:"page",config:{text:!1,target:!1}},{type:"post",config:{text:!1,target:!1}},{type:"file",config:{text:!1,target:!1}},{type:"email",config:{text:!1,target:!1}},{type:"layout",config:{text:!1,target:!1}}]});mw.$(e)&&t.setValue({url:mw.$(e).val()||""}),t.promise().then(function(n){if(n){var s=n.url,o=n.url,r,a;n.data&&n.data.id&&(n.data.type&&n.data.type==="category"?r=n.data.id:(n.data.type&&n.data.type==="page"||n.data.content_type)&&(a=n.data.id)),o||(o=s),alert(o+" "+s+" "+r+" "+a)}})}}mw.app=new Bt;mw.app.register("commands",bi);mw.app.register("modules",vi);mw.app.register("layouts",xi);mw.app.register("keyboard",Ei);mw.app.register("iconPicker",Ci);mw.app.register("linkPicker",Li);export{Si as E,gi as L,ye as M,ge as a,Oi as l};
