mw.require("options.js");mw.require("liveedit.css");mw.liveEditSaveService={grammarlyFix:function(e){return mw.$("grammarly-btn",e).remove(),mw.$("grammarly-card",e).remove(),mw.$("g.gr_",e).each(function(){mw.$(this).replaceWith(this.innerHTML)}),mw.$("[data-gramm_id]",e).removeAttr("data-gramm_id"),mw.$("[data-gramm]",e).removeAttr("data-gramm"),mw.$("[data-gramm_id]",e).removeAttr("data-gramm_id"),mw.$("grammarly-card",e).remove(),mw.$("grammarly-inline-cards",e).remove(),mw.$("grammarly-popups",e).remove(),mw.$("grammarly-extension",e).remove(),e},saving:!1,coreSave:function(e){if(!e)return!1;$.each(e,function(){var r=mw.tools.parseHtml(this.html).body;mw.liveEditSaveService.grammarlyFix(r),mw.liveEditSaveService.animationsClearFix(r),this.html=r.innerHTML}),mw.liveEditSaveService.saving=!0,e=JSON.stringify(e),e=btoa(encodeURIComponent(e).replace(/%([0-9A-F]{2})/g,function(a,i){return String.fromCharCode("0x"+i)})),e={data_base64:e};var t=mw.ajax({type:"POST",url:mw.settings.api_url+"save_edit",data:e,dataType:"json",success:function(r){r&&r.new_page_url&&!mw.liveEditSaveService.DraftSaving&&(window.mw.parent().askusertostay=!1,window.mw.askusertostay=!1,window.location.href=r.new_page_url)}});return t.always(function(){mw.liveEditSaveService.saving=!1}),t},parseContent:function(e){e=e||document.body;var t=mw.tools.parseHtml(e.innerHTML);mw.$(".element-current",t).removeClass("element-current"),mw.$(".element-active",t).removeClass("element-active"),mw.$(".disable-resize",t).removeClass("disable-resize"),mw.$(".mw-module-drag-clone",t).removeClass("mw-module-drag-clone"),mw.$(".ui-draggable",t).removeClass("ui-draggable"),mw.$(".ui-draggable-handle",t).removeClass("ui-draggable-handle"),mw.$(".mt-ready",t).removeClass("mt-ready"),mw.$(".mw-webkit-drag-hover-binded",t).removeClass("mw-webkit-drag-hover-binded"),mw.$(".module-cat-toggle-Modules",t).removeClass("module-cat-toggle-Modules"),mw.$(".mw-module-drag-clone",t).removeClass("mw-module-drag-clone"),mw.$("-module",t).removeClass("-module"),mw.$(".empty-element",t).remove(),mw.$(".empty-element",t).remove(),mw.$(".edit .ui-resizable-handle",t).remove(),mw.$("script",t).remove(),mw.tools.classNamespaceDelete("all","ui-",t,"starts"),mw.$("[contenteditable]",t).removeAttr("contenteditable");for(var r=t.querySelectorAll("[contenteditable]"),a=r.length,i=0;i<a;i++)r[i].removeAttribute("contenteditable");for(var r=t.querySelectorAll(".module"),a=r.length,i=0;i<a;i++)r[i].querySelector(".edit")===null&&(r[i].innerHTML="");return t},htmlAttrValidate:function(e){var t=[];return $.each(e,function(){var r=this.outerHTML;r=r.replace(/url\(&quot;/g,"url('"),r=r.replace(/jpg&quot;/g,"jpg'"),r=r.replace(/jpeg&quot;/g,"jpeg'"),r=r.replace(/png&quot;/g,"png'"),r=r.replace(/gif&quot;/g,"gif'"),t.push($(r)[0])}),t},cleanUnwantedTags:function(e){return mw.$(".mw-skip-and-remove,script",e).remove(),e},animationsClearFix:function(e){return mw.$('[class*="animate__"]').each(function(){mw.tools.classNamespaceDelete(this,"animate__")}),e},collectData:function(e){mw.$(e).each(function(){mw.$("meta",this).remove(),$(".mw-le-spacer",this).empty().removeAttr("data-resizable").removeAttr("style")}),e=this.htmlAttrValidate(e);var t=e.length,r=0,a={},i={};if(t>0)for(;r<t;r++){a.item=e[r];var o=mw.tools.mwattr(a.item,"rel");o||(mw.$(a.item).removeClass("changed"),mw.tools.foreachParents(a.item,function(v){var w=this.className,f=mw.tools.mwattr(this,"rel");mw.tools.hasClass(w,"edit")&&mw.tools.hasClass(w,"changed")&&f&&(a.item=this,mw.tools.stopLoop(v))}));var o=mw.tools.mwattr(a.item,"rel");if(!o){var c=a.item.id?"#"+a.item.id:"";console.warn("Skipped save: .edit"+c+" element does not have rel attribute.");continue}mw.$(a.item).removeClass("changed orig_changed"),mw.$(a.item).removeClass("module-over"),mw.$(".module-over",a.item).each(function(){mw.$(this).removeClass("module-over")}),mw.$("[class]",a.item).each(function(){var v=this.getAttribute("class");typeof v=="string"&&(v=v.trim()),v||this.removeAttribute("class")});var s=mw.liveEditSaveService.cleanUnwantedTags(a.item).innerHTML,n={},m=a.item.attributes;if(m.length>0)for(var l=0,d=m.length;l<d;l++)n[m[l].nodeName]=m[l].nodeValue;var u={attributes:n,html:s},g="field_data_"+r;i[g]=u}return i},getData:function(e){var t=mw.liveEditSaveService.parseContent(e).body,r=t.querySelectorAll(".edit.changed");return mw.liveEditSaveService.collectData(r)},saveDisabled:!1,draftDisabled:!1,save:function(e,t,r){if(mw.trigger("beforeSaveStart",e),mw.liveedit&&mw.liveedit.cssEditor&&mw.liveedit.cssEditor.publishIfChanged(),mw.liveEditSaveService.saveDisabled)return!1;if(!e){var a=mw.liveEditSaveService.parseContent().body,i=a.querySelectorAll(".edit.changed");e=mw.liveEditSaveService.collectData(i)}var o=(mw.__pageAnimations||[]).filter(function(n){return n.animation!=="none"});if(o&&o.length>0){var c={group:"template",key:"animations-global",value:JSON.stringify(o)};mw.options.saveOption(c)}if(mw.tools.isEmptyObject(e))return t&&t.call({}),!1;mw._liveeditData=e,mw.trigger("saveStart",mw._liveeditData);var s=mw.liveEditSaveService.coreSave(mw._liveeditData);return s.error(function(n){s.status==403&&(mw.dialog({id:"save_content_error_iframe_modal",html:"<iframe id='save_content_error_iframe' style='overflow-x:hidden;overflow-y:auto;' class='mw-modal-frame' ></iframe>",width:$(window).width()-90,height:$(window).height()-90}),mw.askusertostay=!1,mw.$("#save_content_error_iframe").ready(function(){var m=document.getElementById("save_content_error_iframe").contentWindow.document;m.open(),m.write(s.responseText),m.close();var l=0;m=document.getElementById("save_content_error_iframe").contentWindow.document,mw.$("#save_content_error_iframe").load(function(){var d=mw.$(".challenge-form",m).length;l++,d&&l==2&&setTimeout(function(){mw.askusertostay=!1,mw.$("#save_content_error_iframe_modal").remove()},150)})})),r&&r.call(n)}),s.success(function(n){mw.$(".edit.changed").removeClass("changed"),mw.$(".orig_changed").removeClass("orig_changed"),document.querySelector(".edit.changed")!==null?mw.liveEditSaveService.save():(mw.askusertostay=!1,mw.trigger("saveEnd",n)),t&&t.call(n)}),s.fail(function(n,m,l){mw.trigger("saveFailed",m,l),r&&r.call(sdata)}),s}};addEventListener("load",()=>{const e=async()=>new Promise(t=>{mw.liveEditSaveService.save(void 0,()=>t(!0),()=>t(!1))});mw.top().app.save=async()=>await e(),window.addEventListener("keydown",function(t){mw.top().app.canvas.dispatch("iframeKeyDown",{event:t})})});self.onbeforeunload=function(e){mw.top().app.canvas.dispatch("liveEditCanvasBeforeUnload");var t=mw.top().app.canvas.getWindow();if(t&&t.mw&&t.mw.askusertostay)return!0;mw.top().spinner({element:mw.top().app.canvas.getFrame().parentElement,decorate:!0,size:52}).show()};mw.drag=mw.drag||{};mw.drag.save=function(){return mw.liveEditSaveService.save()};mw.drag.fix_placeholders=function(e,t){t=t||".edit .row";var r="div.col-md",a=mw.top().app.templateSettings.helperClasses.external_grids_col_classes,i;for(i=a.length-1;i>=0;--i)r+=",div."+a[i];mw.$(t).each(function(){var o=mw.$(this);o.children(r).each(function(){var c=mw.$(this).children("*");if(c.size()==0){mw.$(this).append('<div class="element" id="mw-element-'+mw.random()+'"></div>');var c=mw.$(this).children("div.element")}})})};mw.drag.module_settings=function(){var e=mw.top().app.liveEdit.moduleHandle.getTarget();return mw.top().app.editor.dispatch("onModuleSettingsRequest",e)};mw.top().app.canvas.on("canvasDocumentDoubleClick",function(e){if(e&&e.target){mw.tools.hasParentsWithClass(e.target,"module");var t=mw.tools.firstParentOrCurrentWithAnyOfClasses(e.target,["module"]);t&&mw.top().app.editor.dispatch("onModuleSettingsRequest",t)}});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibGl2ZS1lZGl0LXBhZ2Utc2NyaXB0cy0xMzdkYzZlNi5qcyIsInNvdXJjZXMiOlsiLi4vLi4vLi4vc3JjL01pY3Jvd2ViZXJQYWNrYWdlcy9MaXZlRWRpdC9yZXNvdXJjZXMvanMvdWkvbGl2ZS1lZGl0LXBhZ2Utc2NyaXB0cy5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJcclxubXcucmVxdWlyZSgnb3B0aW9ucy5qcycpXHJcbm13LnJlcXVpcmUoJ2xpdmVlZGl0LmNzcycpXHJcblxyXG5cclxubXcubGl2ZUVkaXRTYXZlU2VydmljZSA9IHtcclxuICAgICBncmFtbWFybHlGaXg6ZnVuY3Rpb24oZGF0YSl7XHJcblxyXG4gICAgICAgIG13LiQoXCJncmFtbWFybHktYnRuXCIsIGRhdGEpLnJlbW92ZSgpO1xyXG4gICAgICAgIG13LiQoXCJncmFtbWFybHktY2FyZFwiLCBkYXRhKS5yZW1vdmUoKTtcclxuICAgICAgICBtdy4kKFwiZy5ncl9cIiwgZGF0YSkuZWFjaChmdW5jdGlvbigpe1xyXG4gICAgICAgICAgICBtdy4kKHRoaXMpLnJlcGxhY2VXaXRoKHRoaXMuaW5uZXJIVE1MKTtcclxuICAgICAgICB9KTtcclxuICAgICAgICBtdy4kKFwiW2RhdGEtZ3JhbW1faWRdXCIsIGRhdGEpLnJlbW92ZUF0dHIoJ2RhdGEtZ3JhbW1faWQnKTtcclxuICAgICAgICBtdy4kKFwiW2RhdGEtZ3JhbW1dXCIsIGRhdGEpLnJlbW92ZUF0dHIoJ2RhdGEtZ3JhbW0nKTtcclxuICAgICAgICBtdy4kKFwiW2RhdGEtZ3JhbW1faWRdXCIsIGRhdGEpLnJlbW92ZUF0dHIoJ2RhdGEtZ3JhbW1faWQnKTtcclxuICAgICAgICBtdy4kKFwiZ3JhbW1hcmx5LWNhcmRcIiwgZGF0YSkucmVtb3ZlKCk7XHJcbiAgICAgICAgbXcuJChcImdyYW1tYXJseS1pbmxpbmUtY2FyZHNcIiwgZGF0YSkucmVtb3ZlKCk7XHJcbiAgICAgICAgbXcuJChcImdyYW1tYXJseS1wb3B1cHNcIiwgZGF0YSkucmVtb3ZlKCk7XHJcbiAgICAgICAgbXcuJChcImdyYW1tYXJseS1leHRlbnNpb25cIiwgZGF0YSkucmVtb3ZlKCk7XHJcbiAgICAgICAgcmV0dXJuIGRhdGE7XHJcbiAgICB9LFxyXG4gICAgc2F2aW5nOiBmYWxzZSxcclxuICAgIGNvcmVTYXZlOiBmdW5jdGlvbihkYXRhKSB7XHJcbiAgICAgICAgaWYgKCFkYXRhKSByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgJC5lYWNoKGRhdGEsIGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgICAgIHZhciBib2R5ID0gbXcudG9vbHMucGFyc2VIdG1sKHRoaXMuaHRtbCkuYm9keTtcclxuICAgICAgICAgICAgbXcubGl2ZUVkaXRTYXZlU2VydmljZS5ncmFtbWFybHlGaXgoYm9keSk7XHJcbiAgICAgICAgICAgIG13LmxpdmVFZGl0U2F2ZVNlcnZpY2UuYW5pbWF0aW9uc0NsZWFyRml4KGJvZHkpO1xyXG4gICAgICAgICAgICB0aGlzLmh0bWwgPSBib2R5LmlubmVySFRNTDtcclxuICAgICAgICB9KTtcclxuICAgICAgICBtdy5saXZlRWRpdFNhdmVTZXJ2aWNlLnNhdmluZyA9IHRydWU7XHJcblxyXG4gICAgICAgIC8qKioqKioqKioqKiogIFNUQVJUIGJhc2U2NCAgKioqKioqKioqKioqL1xyXG4gICAgICAgIGRhdGEgPSBKU09OLnN0cmluZ2lmeShkYXRhKTtcclxuICAgICAgICBkYXRhID0gYnRvYShlbmNvZGVVUklDb21wb25lbnQoZGF0YSkucmVwbGFjZSgvJShbMC05QS1GXXsyfSkvZyxcclxuICAgICAgICAgICAgZnVuY3Rpb24gdG9Tb2xpZEJ5dGVzKG1hdGNoLCBwMSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIFN0cmluZy5mcm9tQ2hhckNvZGUoJzB4JyArIHAxKTtcclxuICAgICAgICAgICAgfSkpO1xyXG4gICAgICAgIGRhdGEgPSB7ZGF0YV9iYXNlNjQ6ZGF0YX07XHJcbiAgICAgICAgLyoqKioqKioqKioqKiAgRU5EIGJhc2U2NCAgKioqKioqKioqKioqL1xyXG5cclxuICAgICAgICB2YXIgeGhyID0gbXcuYWpheCh7XHJcbiAgICAgICAgICAgIHR5cGU6ICdQT1NUJyxcclxuICAgICAgICAgICAgdXJsOiBtdy5zZXR0aW5ncy5hcGlfdXJsICsgJ3NhdmVfZWRpdCcsXHJcbiAgICAgICAgICAgIGRhdGE6IGRhdGEsXHJcbiAgICAgICAgICAgIGRhdGFUeXBlOiBcImpzb25cIixcclxuICAgICAgICAgICAgc3VjY2VzczogZnVuY3Rpb24gKHNhdmVkX2RhdGEpIHtcclxuICAgICAgICAgICAgICAgIGlmKHNhdmVkX2RhdGEgJiYgc2F2ZWRfZGF0YS5uZXdfcGFnZV91cmwgJiYgIW13LmxpdmVFZGl0U2F2ZVNlcnZpY2UuRHJhZnRTYXZpbmcpe1xyXG4gICAgICAgICAgICAgICAgICAgIHdpbmRvdy5tdy5wYXJlbnQoKS5hc2t1c2VydG9zdGF5ID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgd2luZG93Lm13LmFza3VzZXJ0b3N0YXkgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICB3aW5kb3cubG9jYXRpb24uaHJlZiAgPSBzYXZlZF9kYXRhLm5ld19wYWdlX3VybDtcclxuXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgeGhyLmFsd2F5cyhmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgbXcubGl2ZUVkaXRTYXZlU2VydmljZS5zYXZpbmcgPSBmYWxzZTtcclxuICAgICAgICB9KTtcclxuICAgICAgICByZXR1cm4geGhyO1xyXG4gICAgfSxcclxuICAgIHBhcnNlQ29udGVudDogZnVuY3Rpb24ocm9vdCkge1xyXG4gICAgICAgIHJvb3QgPSByb290IHx8IGRvY3VtZW50LmJvZHk7XHJcbiAgICAgICAgdmFyIGRvYyA9IG13LnRvb2xzLnBhcnNlSHRtbChyb290LmlubmVySFRNTCk7XHJcbiAgICAgICAgbXcuJCgnLmVsZW1lbnQtY3VycmVudCcsIGRvYykucmVtb3ZlQ2xhc3MoJ2VsZW1lbnQtY3VycmVudCcpO1xyXG4gICAgICAgIG13LiQoJy5lbGVtZW50LWFjdGl2ZScsIGRvYykucmVtb3ZlQ2xhc3MoJ2VsZW1lbnQtYWN0aXZlJyk7XHJcbiAgICAgICAgbXcuJCgnLmRpc2FibGUtcmVzaXplJywgZG9jKS5yZW1vdmVDbGFzcygnZGlzYWJsZS1yZXNpemUnKTtcclxuICAgICAgICBtdy4kKCcubXctbW9kdWxlLWRyYWctY2xvbmUnLCBkb2MpLnJlbW92ZUNsYXNzKCdtdy1tb2R1bGUtZHJhZy1jbG9uZScpO1xyXG4gICAgICAgIG13LiQoJy51aS1kcmFnZ2FibGUnLCBkb2MpLnJlbW92ZUNsYXNzKCd1aS1kcmFnZ2FibGUnKTtcclxuICAgICAgICBtdy4kKCcudWktZHJhZ2dhYmxlLWhhbmRsZScsIGRvYykucmVtb3ZlQ2xhc3MoJ3VpLWRyYWdnYWJsZS1oYW5kbGUnKTtcclxuICAgICAgICBtdy4kKCcubXQtcmVhZHknLCBkb2MpLnJlbW92ZUNsYXNzKCdtdC1yZWFkeScpO1xyXG4gICAgICAgIG13LiQoJy5tdy13ZWJraXQtZHJhZy1ob3Zlci1iaW5kZWQnLCBkb2MpLnJlbW92ZUNsYXNzKCdtdy13ZWJraXQtZHJhZy1ob3Zlci1iaW5kZWQnKTtcclxuICAgICAgICBtdy4kKCcubW9kdWxlLWNhdC10b2dnbGUtTW9kdWxlcycsIGRvYykucmVtb3ZlQ2xhc3MoJ21vZHVsZS1jYXQtdG9nZ2xlLU1vZHVsZXMnKTtcclxuICAgICAgICBtdy4kKCcubXctbW9kdWxlLWRyYWctY2xvbmUnLCBkb2MpLnJlbW92ZUNsYXNzKCdtdy1tb2R1bGUtZHJhZy1jbG9uZScpO1xyXG4gICAgICAgIG13LiQoJy1tb2R1bGUnLCBkb2MpLnJlbW92ZUNsYXNzKCctbW9kdWxlJyk7XHJcbiAgICAgICAgbXcuJCgnLmVtcHR5LWVsZW1lbnQnLCBkb2MpLnJlbW92ZSgpO1xyXG4gICAgICAgIG13LiQoJy5lbXB0eS1lbGVtZW50JywgZG9jKS5yZW1vdmUoKTtcclxuICAgICAgICBtdy4kKCcuZWRpdCAudWktcmVzaXphYmxlLWhhbmRsZScsIGRvYykucmVtb3ZlKCk7XHJcbiAgICAgICAgbXcuJCgnc2NyaXB0JywgZG9jKS5yZW1vdmUoKTtcclxuXHJcbiAgICAgICAgLy92YXIgZG9jID0gbXcuJChkb2MpLmZpbmQoJ3NjcmlwdCcpLnJlbW92ZSgpO1xyXG5cclxuICAgICAgICBtdy50b29scy5jbGFzc05hbWVzcGFjZURlbGV0ZSgnYWxsJywgJ3VpLScsIGRvYywgJ3N0YXJ0cycpO1xyXG4gICAgICAgIG13LiQoXCJbY29udGVudGVkaXRhYmxlXVwiLCBkb2MpLnJlbW92ZUF0dHIoXCJjb250ZW50ZWRpdGFibGVcIik7XHJcbiAgICAgICAgdmFyIGFsbCA9IGRvYy5xdWVyeVNlbGVjdG9yQWxsKCdbY29udGVudGVkaXRhYmxlXScpLFxyXG4gICAgICAgICAgICBsID0gYWxsLmxlbmd0aCxcclxuICAgICAgICAgICAgaSA9IDA7XHJcbiAgICAgICAgZm9yICg7IGkgPCBsOyBpKyspIHtcclxuICAgICAgICAgICAgYWxsW2ldLnJlbW92ZUF0dHJpYnV0ZSgnY29udGVudGVkaXRhYmxlJyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHZhciBhbGwgPSBkb2MucXVlcnlTZWxlY3RvckFsbCgnLm1vZHVsZScpLFxyXG4gICAgICAgICAgICBsID0gYWxsLmxlbmd0aCxcclxuICAgICAgICAgICAgaSA9IDA7XHJcbiAgICAgICAgZm9yICg7IGkgPCBsOyBpKyspIHtcclxuICAgICAgICAgICAgaWYgKGFsbFtpXS5xdWVyeVNlbGVjdG9yKCcuZWRpdCcpID09PSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICBhbGxbaV0uaW5uZXJIVE1MID0gJyc7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGRvYztcclxuICAgIH0sXHJcbiAgICBodG1sQXR0clZhbGlkYXRlOmZ1bmN0aW9uKGVkaXRzKXtcclxuICAgICAgICB2YXIgZmluYWwgPSBbXTtcclxuICAgICAgICAkLmVhY2goZWRpdHMsIGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgICAgIHZhciBodG1sID0gdGhpcy5vdXRlckhUTUw7XHJcbiAgICAgICAgICAgIGh0bWwgPSBodG1sLnJlcGxhY2UoL3VybFxcKCZxdW90Oy9nLCBcInVybCgnXCIpO1xyXG4gICAgICAgICAgICBodG1sID0gaHRtbC5yZXBsYWNlKC9qcGcmcXVvdDsvZywgXCJqcGcnXCIpO1xyXG4gICAgICAgICAgICBodG1sID0gaHRtbC5yZXBsYWNlKC9qcGVnJnF1b3Q7L2csIFwianBlZydcIik7XHJcbiAgICAgICAgICAgIGh0bWwgPSBodG1sLnJlcGxhY2UoL3BuZyZxdW90Oy9nLCBcInBuZydcIik7XHJcbiAgICAgICAgICAgIGh0bWwgPSBodG1sLnJlcGxhY2UoL2dpZiZxdW90Oy9nLCBcImdpZidcIik7XHJcbiAgICAgICAgICAgIGZpbmFsLnB1c2goJChodG1sKVswXSk7XHJcbiAgICAgICAgfSlcclxuICAgICAgICByZXR1cm4gZmluYWw7XHJcbiAgICB9LFxyXG4gICAgY2xlYW5VbndhbnRlZFRhZ3M6IGZ1bmN0aW9uIChib2R5KSB7XHJcblxyXG5cclxuICAgICAgICBtdy4kKCcubXctc2tpcC1hbmQtcmVtb3ZlLHNjcmlwdCcsIGJvZHkpLnJlbW92ZSgpO1xyXG4gICAgICAgIHJldHVybiBib2R5O1xyXG4gICAgfSxcclxuICAgIGFuaW1hdGlvbnNDbGVhckZpeDpmdW5jdGlvbihib2R5KXtcclxuICAgICAgICBtdy4kKCdbY2xhc3MqPVwiYW5pbWF0ZV9fXCJdJykuZWFjaChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIG13LnRvb2xzLmNsYXNzTmFtZXNwYWNlRGVsZXRlKHRoaXMsICdhbmltYXRlX18nKTtcclxuICAgICAgICB9KTtcclxuICAgICAgICByZXR1cm4gYm9keTtcclxuICAgIH0sXHJcbiAgICBjb2xsZWN0RGF0YTogZnVuY3Rpb24oZWRpdHMpIHtcclxuICAgICAgICBtdy4kKGVkaXRzKS5lYWNoKGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgICAgIG13LiQoJ21ldGEnLCB0aGlzKS5yZW1vdmUoKTtcclxuICAgICAgICAgICAgJCgnLm13LWxlLXNwYWNlcicsIHRoaXMpLmVtcHR5KCkucmVtb3ZlQXR0cignZGF0YS1yZXNpemFibGUnKS5yZW1vdmVBdHRyKCdzdHlsZScpXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIGVkaXRzID0gdGhpcy5odG1sQXR0clZhbGlkYXRlKGVkaXRzKTtcclxuICAgICAgICB2YXIgbCA9IGVkaXRzLmxlbmd0aCxcclxuICAgICAgICAgICAgaSA9IDAsXHJcbiAgICAgICAgICAgIGhlbHBlciA9IHt9LFxyXG4gICAgICAgICAgICBtYXN0ZXIgPSB7fTtcclxuICAgICAgICBpZiAobCA+IDApIHtcclxuICAgICAgICAgICAgZm9yICg7IGkgPCBsOyBpKyspIHtcclxuICAgICAgICAgICAgICAgIGhlbHBlci5pdGVtID0gZWRpdHNbaV07XHJcbiAgICAgICAgICAgICAgICB2YXIgcmVsID0gbXcudG9vbHMubXdhdHRyKGhlbHBlci5pdGVtLCAncmVsJyk7XHJcbiAgICAgICAgICAgICAgICBpZiAoIXJlbCkge1xyXG4gICAgICAgICAgICAgICAgICAgIG13LiQoaGVscGVyLml0ZW0pLnJlbW92ZUNsYXNzKCdjaGFuZ2VkJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgbXcudG9vbHMuZm9yZWFjaFBhcmVudHMoaGVscGVyLml0ZW0sIGZ1bmN0aW9uKGxvb3ApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGNscyA9IHRoaXMuY2xhc3NOYW1lO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgcmVsID0gbXcudG9vbHMubXdhdHRyKHRoaXMsICdyZWwnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG13LnRvb2xzLmhhc0NsYXNzKGNscywgJ2VkaXQnKSAmJiBtdy50b29scy5oYXNDbGFzcyhjbHMsICdjaGFuZ2VkJykgJiYgKCEhcmVsKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaGVscGVyLml0ZW0gPSB0aGlzO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbXcudG9vbHMuc3RvcExvb3AobG9vcCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHZhciByZWwgPSBtdy50b29scy5td2F0dHIoaGVscGVyLml0ZW0sICdyZWwnKTtcclxuICAgICAgICAgICAgICAgIGlmICghcmVsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGZpZWxkID0gISFoZWxwZXIuaXRlbS5pZCA/ICcjJytoZWxwZXIuaXRlbS5pZCA6ICcnO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybignU2tpcHBlZCBzYXZlOiAuZWRpdCcrZmllbGQrJyBlbGVtZW50IGRvZXMgbm90IGhhdmUgcmVsIGF0dHJpYnV0ZS4nKTtcclxuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIG13LiQoaGVscGVyLml0ZW0pLnJlbW92ZUNsYXNzKCdjaGFuZ2VkIG9yaWdfY2hhbmdlZCcpO1xyXG4gICAgICAgICAgICAgICAgbXcuJChoZWxwZXIuaXRlbSkucmVtb3ZlQ2xhc3MoJ21vZHVsZS1vdmVyJyk7XHJcblxyXG4gICAgICAgICAgICAgICAgbXcuJCgnLm1vZHVsZS1vdmVyJywgaGVscGVyLml0ZW0pLmVhY2goZnVuY3Rpb24oKXtcclxuICAgICAgICAgICAgICAgICAgICBtdy4kKHRoaXMpLnJlbW92ZUNsYXNzKCdtb2R1bGUtb3ZlcicpO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICBtdy4kKCdbY2xhc3NdJywgaGVscGVyLml0ZW0pLmVhY2goZnVuY3Rpb24oKXtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgY2xzID0gdGhpcy5nZXRBdHRyaWJ1dGUoXCJjbGFzc1wiKTtcclxuICAgICAgICAgICAgICAgICAgICBpZih0eXBlb2YgY2xzID09PSAnc3RyaW5nJyl7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNscyA9IGNscy50cmltKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmKCFjbHMpe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnJlbW92ZUF0dHJpYnV0ZShcImNsYXNzXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgdmFyIGNvbnRlbnQgPSBtdy5saXZlRWRpdFNhdmVTZXJ2aWNlLmNsZWFuVW53YW50ZWRUYWdzKGhlbHBlci5pdGVtKS5pbm5lckhUTUw7XHJcbiAgICAgICAgICAgICAgICB2YXIgYXR0cl9vYmogPSB7fTtcclxuICAgICAgICAgICAgICAgIHZhciBhdHRycyA9IGhlbHBlci5pdGVtLmF0dHJpYnV0ZXM7XHJcbiAgICAgICAgICAgICAgICBpZiAoYXR0cnMubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBhaSA9IDAsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGFsID0gYXR0cnMubGVuZ3RoO1xyXG4gICAgICAgICAgICAgICAgICAgIGZvciAoOyBhaSA8IGFsOyBhaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGF0dHJfb2JqW2F0dHJzW2FpXS5ub2RlTmFtZV0gPSBhdHRyc1thaV0ubm9kZVZhbHVlO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHZhciBvYmogPSB7XHJcbiAgICAgICAgICAgICAgICAgICAgYXR0cmlidXRlczogYXR0cl9vYmosXHJcbiAgICAgICAgICAgICAgICAgICAgaHRtbDogY29udGVudFxyXG4gICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgIHZhciBvYmpkYXRhID0gXCJmaWVsZF9kYXRhX1wiICsgaTtcclxuICAgICAgICAgICAgICAgIG1hc3RlcltvYmpkYXRhXSA9IG9iajtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gbWFzdGVyO1xyXG4gICAgfSxcclxuICAgIGdldERhdGE6IGZ1bmN0aW9uKHJvb3QpIHtcclxuICAgICAgICB2YXIgYm9keSA9IG13LmxpdmVFZGl0U2F2ZVNlcnZpY2UucGFyc2VDb250ZW50KHJvb3QpLmJvZHksXHJcbiAgICAgICAgICAgIGVkaXRzID0gYm9keS5xdWVyeVNlbGVjdG9yQWxsKCcuZWRpdC5jaGFuZ2VkJyk7XHJcbiAgICAgICAgcmV0dXJuIG13LmxpdmVFZGl0U2F2ZVNlcnZpY2UuY29sbGVjdERhdGEoZWRpdHMpO1xyXG4gICAgfSxcclxuXHJcbiAgICBzYXZlRGlzYWJsZWQ6IGZhbHNlLFxyXG4gICAgZHJhZnREaXNhYmxlZDogZmFsc2UsXHJcbiAgICBzYXZlOiBmdW5jdGlvbihkYXRhLCBzdWNjZXNzLCBmYWlsKSB7XHJcbiAgICAgICAgbXcudHJpZ2dlcignYmVmb3JlU2F2ZVN0YXJ0JywgZGF0YSk7XHJcbiAgICAgICAgLy8gdG9kbzpcclxuICAgICAgICBpZiAobXcubGl2ZWVkaXQgJiYgbXcubGl2ZWVkaXQuY3NzRWRpdG9yKSB7XHJcbiAgICAgICAgICAgIG13LmxpdmVlZGl0LmNzc0VkaXRvci5wdWJsaXNoSWZDaGFuZ2VkKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChtdy5saXZlRWRpdFNhdmVTZXJ2aWNlLnNhdmVEaXNhYmxlZCkge1xyXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmKCFkYXRhKXtcclxuICAgICAgICAgICAgdmFyIGJvZHkgPSBtdy5saXZlRWRpdFNhdmVTZXJ2aWNlLnBhcnNlQ29udGVudCgpLmJvZHksXHJcbiAgICAgICAgICAgICAgICBlZGl0cyA9IGJvZHkucXVlcnlTZWxlY3RvckFsbCgnLmVkaXQuY2hhbmdlZCcpO1xyXG4gICAgICAgICAgICBkYXRhID0gbXcubGl2ZUVkaXRTYXZlU2VydmljZS5jb2xsZWN0RGF0YShlZGl0cyk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB2YXIgYW5pbWF0aW9ucyA9IChtdy5fX3BhZ2VBbmltYXRpb25zIHx8IFtdKS5maWx0ZXIoZnVuY3Rpb24gKGl0ZW0pIHtcclxuICAgICAgICAgICAgcmV0dXJuIGl0ZW0uYW5pbWF0aW9uICE9PSAnbm9uZSc7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIGlmKGFuaW1hdGlvbnMgJiYgYW5pbWF0aW9ucy5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgIHZhciBvcHRpb25zID0ge1xyXG4gICAgICAgICAgICAgICAgZ3JvdXA6ICd0ZW1wbGF0ZScsXHJcbiAgICAgICAgICAgICAgICBrZXk6ICdhbmltYXRpb25zLWdsb2JhbCcsXHJcbiAgICAgICAgICAgICAgICB2YWx1ZTogSlNPTi5zdHJpbmdpZnkoYW5pbWF0aW9ucylcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIG13Lm9wdGlvbnMuc2F2ZU9wdGlvbihvcHRpb25zKTtcclxuICAgICAgICAgICAgLy8gYXdhaXQgbmV3IFByb21pc2UocmVzb2x2ZSA9PiAge1xyXG4gICAgICAgICAgICAvLyAgICAgbXcub3B0aW9ucy5zYXZlT3B0aW9uKG9wdGlvbnMsIGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgICAgIC8vICAgICAgICAgcmVzb2x2ZSgpO1xyXG4gICAgICAgICAgICAvLyAgICAgfSk7XHJcbiAgICAgICAgICAgIC8vIH0pO1xyXG4gICAgICAgIH1cclxuXHJcblxyXG5cclxuXHJcbiAgICAgICAgaWYgKG13LnRvb2xzLmlzRW1wdHlPYmplY3QoZGF0YSkpIHtcclxuICAgICAgICAgICAgaWYoc3VjY2Vzcyl7XHJcbiAgICAgICAgICAgICAgICBzdWNjZXNzLmNhbGwoe30pXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlXHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgbXcuX2xpdmVlZGl0RGF0YSA9IGRhdGE7XHJcblxyXG4gICAgICAgIG13LnRyaWdnZXIoJ3NhdmVTdGFydCcsIG13Ll9saXZlZWRpdERhdGEpO1xyXG5cclxuICAgICAgICB2YXIgeGhyID0gbXcubGl2ZUVkaXRTYXZlU2VydmljZS5jb3JlU2F2ZShtdy5fbGl2ZWVkaXREYXRhKTtcclxuICAgICAgICB4aHIuZXJyb3IoZnVuY3Rpb24oc2RhdGEpe1xyXG5cclxuICAgICAgICAgICAgaWYoeGhyLnN0YXR1cyA9PSA0MDMpe1xyXG4gICAgICAgICAgICAgICAgdmFyIG1vZGFsID0gbXcuZGlhbG9nKHtcclxuICAgICAgICAgICAgICAgICAgICBpZCA6ICdzYXZlX2NvbnRlbnRfZXJyb3JfaWZyYW1lX21vZGFsJyxcclxuICAgICAgICAgICAgICAgICAgICBodG1sOlwiPGlmcmFtZSBpZD0nc2F2ZV9jb250ZW50X2Vycm9yX2lmcmFtZScgc3R5bGU9J292ZXJmbG93LXg6aGlkZGVuO292ZXJmbG93LXk6YXV0bzsnIGNsYXNzPSdtdy1tb2RhbC1mcmFtZScgPjwvaWZyYW1lPlwiLFxyXG4gICAgICAgICAgICAgICAgICAgIHdpZHRoOiQod2luZG93KS53aWR0aCgpIC0gOTAsXHJcbiAgICAgICAgICAgICAgICAgICAgaGVpZ2h0OiQod2luZG93KS5oZWlnaHQoKSAtIDkwXHJcbiAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgICAgICBtdy5hc2t1c2VydG9zdGF5ID0gZmFsc2U7XHJcblxyXG4gICAgICAgICAgICAgICAgbXcuJChcIiNzYXZlX2NvbnRlbnRfZXJyb3JfaWZyYW1lXCIpLnJlYWR5KGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBkb2MgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc2F2ZV9jb250ZW50X2Vycm9yX2lmcmFtZScpLmNvbnRlbnRXaW5kb3cuZG9jdW1lbnQ7XHJcbiAgICAgICAgICAgICAgICAgICAgZG9jLm9wZW4oKTtcclxuICAgICAgICAgICAgICAgICAgICBkb2Mud3JpdGUoeGhyLnJlc3BvbnNlVGV4dCk7XHJcbiAgICAgICAgICAgICAgICAgICAgZG9jLmNsb3NlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHNhdmVfY29udGVudF9lcnJvcl9pZnJhbWVfcmVsb2FkcyA9IDA7XHJcbiAgICAgICAgICAgICAgICAgICAgZG9jID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3NhdmVfY29udGVudF9lcnJvcl9pZnJhbWUnKS5jb250ZW50V2luZG93LmRvY3VtZW50O1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBtdy4kKFwiI3NhdmVfY29udGVudF9lcnJvcl9pZnJhbWVcIikubG9hZChmdW5jdGlvbigpe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBjbG91ZGZsYXJlIGNhcHRjaGFcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGlzX2NmID0gIG13LiQoJy5jaGFsbGVuZ2UtZm9ybScsZG9jKS5sZW5ndGg7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNhdmVfY29udGVudF9lcnJvcl9pZnJhbWVfcmVsb2FkcysrO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYoaXNfY2YgJiYgc2F2ZV9jb250ZW50X2Vycm9yX2lmcmFtZV9yZWxvYWRzID09IDIpe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbigpe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG13LmFza3VzZXJ0b3N0YXkgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtdy4kKCcjc2F2ZV9jb250ZW50X2Vycm9yX2lmcmFtZV9tb2RhbCcpLnJlbW92ZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwgMTUwKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZihmYWlsKXtcclxuICAgICAgICAgICAgICAgIGZhaWwuY2FsbChzZGF0YSlcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHhoci5zdWNjZXNzKGZ1bmN0aW9uKHNkYXRhKSB7XHJcbiAgICAgICAgICAgIG13LiQoJy5lZGl0LmNoYW5nZWQnKS5yZW1vdmVDbGFzcygnY2hhbmdlZCcpO1xyXG4gICAgICAgICAgICBtdy4kKCcub3JpZ19jaGFuZ2VkJykucmVtb3ZlQ2xhc3MoJ29yaWdfY2hhbmdlZCcpO1xyXG4gICAgICAgICAgICBpZiAoZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmVkaXQuY2hhbmdlZCcpICE9PSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICBtdy5saXZlRWRpdFNhdmVTZXJ2aWNlLnNhdmUoKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIG13LmFza3VzZXJ0b3N0YXkgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgIG13LnRyaWdnZXIoJ3NhdmVFbmQnLCBzZGF0YSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYoc3VjY2Vzcyl7XHJcbiAgICAgICAgICAgICAgICBzdWNjZXNzLmNhbGwoc2RhdGEpXHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgeGhyLmZhaWwoZnVuY3Rpb24oanFYSFIsIHRleHRTdGF0dXMsIGVycm9yVGhyb3duKSB7XHJcbiAgICAgICAgICAgIG13LnRyaWdnZXIoJ3NhdmVGYWlsZWQnLCB0ZXh0U3RhdHVzLCBlcnJvclRocm93bik7XHJcbiAgICAgICAgICAgIGlmKGZhaWwpe1xyXG4gICAgICAgICAgICAgICAgZmFpbC5jYWxsKHNkYXRhKVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgcmV0dXJuIHhocjtcclxuICAgIH0sXHJcblxyXG59XHJcblxyXG5hZGRFdmVudExpc3RlbmVyKCdsb2FkJywgKCkgPT4ge1xyXG4gICAgY29uc3Qgc2F2ZSA9IGFzeW5jICgpID0+IHtcclxuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUpID0+IHtcclxuICAgICAgICAgICAgbXcubGl2ZUVkaXRTYXZlU2VydmljZS5zYXZlKHVuZGVmaW5lZCwgKCkgPT4gcmVzb2x2ZSh0cnVlKSwgKCkgPT4gcmVzb2x2ZShmYWxzZSkpO1xyXG4gICAgICAgIH0pXHJcbiAgICB9O1xyXG5cclxuICAgIG13LnRvcCgpLmFwcC5zYXZlID0gYXN5bmMgKCkgPT4ge1xyXG5cclxuICAgICAgICByZXR1cm4gYXdhaXQgc2F2ZSgpXHJcbiAgICB9O1xyXG5cclxuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgZnVuY3Rpb24oZXZlbnQpe1xyXG4gICAgICAgIG13LnRvcCgpLmFwcC5jYW52YXMuZGlzcGF0Y2goJ2lmcmFtZUtleURvd24nLCB7ZXZlbnR9KVxyXG4gICAgfSlcclxuXHJcbn0pXHJcblxyXG5zZWxmLm9uYmVmb3JldW5sb2FkID0gZnVuY3Rpb24oZXZlbnQpIHtcclxuICAgIG13LnRvcCgpLmFwcC5jYW52YXMuZGlzcGF0Y2goJ2xpdmVFZGl0Q2FudmFzQmVmb3JlVW5sb2FkJyk7XHJcblxyXG5cclxuICAgIC8vIHByZXZlbnQgdXNlciBmcm9tIGxlYXZpbmcgaWYgdGhlcmUgYXJlIHVuc2F2ZWQgY2hhbmdlc1xyXG4gICAgdmFyIGxpdmVFZGl0SWZyYW1lID0gKG13LnRvcCgpLmFwcC5jYW52YXMuZ2V0V2luZG93KCkpO1xyXG4gICAgaWYgKGxpdmVFZGl0SWZyYW1lXHJcbiAgICAgICAgJiYgbGl2ZUVkaXRJZnJhbWUubXcgJiYgbGl2ZUVkaXRJZnJhbWUubXcuYXNrdXNlcnRvc3RheSkge1xyXG4gICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgICBtdy50b3AoKS5zcGlubmVyKHtlbGVtZW50OiBtdy50b3AoKS5hcHAuY2FudmFzLmdldEZyYW1lKCkucGFyZW50RWxlbWVudCwgZGVjb3JhdGU6IHRydWUsIHNpemU6IDUyfSkuc2hvdygpXHJcbiAgICB9XHJcbn07XHJcblxyXG5cclxubXcuZHJhZyA9IG13LmRyYWcgfHwge307XHJcbm13LmRyYWcuc2F2ZSA9IGZ1bmN0aW9uKCkge1xyXG4gICByZXR1cm4gbXcubGl2ZUVkaXRTYXZlU2VydmljZS5zYXZlKCk7XHJcbn07XHJcbm13LmRyYWcuZml4X3BsYWNlaG9sZGVycyA9IGZ1bmN0aW9uKGlzSGFyZCwgc2VsZWN0b3IpIHtcclxuICAgIHNlbGVjdG9yID0gc2VsZWN0b3IgfHwgJy5lZGl0IC5yb3cnO1xyXG5cclxuICAgIHZhciBtb3JlX3NlbGVjdG9yczIgPSAnZGl2LmNvbC1tZCc7XHJcbiAgICB2YXIgYSA9IG13LnRvcCgpLmFwcC50ZW1wbGF0ZVNldHRpbmdzLmhlbHBlckNsYXNzZXMuZXh0ZXJuYWxfZ3JpZHNfY29sX2NsYXNzZXM7XHJcbiAgICB2YXIgaW5kZXg7XHJcbiAgICBmb3IgKGluZGV4ID0gYS5sZW5ndGggLSAxOyBpbmRleCA+PSAwOyAtLWluZGV4KSB7XHJcbiAgICAgICAgbW9yZV9zZWxlY3RvcnMyICs9ICcsZGl2LicgKyBhW2luZGV4XTtcclxuICAgIH1cclxuICAgIG13LiQoc2VsZWN0b3IpLmVhY2goZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgdmFyIGVsID0gbXcuJCh0aGlzKTtcclxuICAgICAgICBlbC5jaGlsZHJlbihtb3JlX3NlbGVjdG9yczIpLmVhY2goZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIHZhciBlbXB0eV9jaGlsZCA9IG13LiQodGhpcykuY2hpbGRyZW4oJyonKTtcclxuICAgICAgICAgICAgaWYgKGVtcHR5X2NoaWxkLnNpemUoKSA9PSAwKSB7XHJcbiAgICAgICAgICAgICAgICBtdy4kKHRoaXMpLmFwcGVuZCgnPGRpdiBjbGFzcz1cImVsZW1lbnRcIiBpZD1cIm13LWVsZW1lbnQtJyArIG13LnJhbmRvbSgpICsgJ1wiPicgKyAnPC9kaXY+Jyk7XHJcbiAgICAgICAgICAgICAgICB2YXIgZW1wdHlfY2hpbGQgPSBtdy4kKHRoaXMpLmNoaWxkcmVuKFwiZGl2LmVsZW1lbnRcIik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgIH0pO1xyXG5cclxufTtcclxuXHJcbm13LmRyYWcubW9kdWxlX3NldHRpbmdzID0gIGZ1bmN0aW9uKCkge1xyXG4gICAgdmFyIHRhcmdldCA9IG13LnRvcCgpLmFwcC5saXZlRWRpdC5tb2R1bGVIYW5kbGUuZ2V0VGFyZ2V0KCk7XHJcbiAgICByZXR1cm4gIG13LnRvcCgpLmFwcC5lZGl0b3IuZGlzcGF0Y2goJ29uTW9kdWxlU2V0dGluZ3NSZXF1ZXN0JywgdGFyZ2V0KTtcclxufTtcclxuXHJcbm13LnRvcCgpLmFwcC5jYW52YXMub24oJ2NhbnZhc0RvY3VtZW50RG91YmxlQ2xpY2snLCBmdW5jdGlvbiAoZXZlbnQpIHtcclxuICAgIGlmKGV2ZW50ICYmIGV2ZW50LnRhcmdldCl7XHJcbiAgICAgICAgdmFyIGhhc1BhcmVudE1vZHVsZSA9IG13LnRvb2xzLmhhc1BhcmVudHNXaXRoQ2xhc3MoZXZlbnQudGFyZ2V0LCAnbW9kdWxlJyk7XHJcbiAgICAgICAgdmFyIGZpcnN0TW9kdWxlID0gbXcudG9vbHMuZmlyc3RQYXJlbnRPckN1cnJlbnRXaXRoQW55T2ZDbGFzc2VzKGV2ZW50LnRhcmdldCwgWydtb2R1bGUnXSk7XHJcbiAgICAgICAgaWYoZmlyc3RNb2R1bGUpe1xyXG4gICAgICAgICAgICBtdy50b3AoKS5hcHAuZWRpdG9yLmRpc3BhdGNoKCdvbk1vZHVsZVNldHRpbmdzUmVxdWVzdCcsIGZpcnN0TW9kdWxlKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn0pO1xyXG5cclxuXHJcbiJdLCJuYW1lcyI6WyJkYXRhIiwiYm9keSIsIm1hdGNoIiwicDEiLCJ4aHIiLCJzYXZlZF9kYXRhIiwicm9vdCIsImRvYyIsImFsbCIsImwiLCJlZGl0cyIsImZpbmFsIiwiaHRtbCIsImkiLCJoZWxwZXIiLCJtYXN0ZXIiLCJyZWwiLCJsb29wIiwiY2xzIiwiZmllbGQiLCJjb250ZW50IiwiYXR0cl9vYmoiLCJhdHRycyIsImFpIiwiYWwiLCJvYmoiLCJvYmpkYXRhIiwic3VjY2VzcyIsImZhaWwiLCJhbmltYXRpb25zIiwiaXRlbSIsIm9wdGlvbnMiLCJzZGF0YSIsInNhdmVfY29udGVudF9lcnJvcl9pZnJhbWVfcmVsb2FkcyIsImlzX2NmIiwianFYSFIiLCJ0ZXh0U3RhdHVzIiwiZXJyb3JUaHJvd24iLCJzYXZlIiwicmVzb2x2ZSIsImV2ZW50IiwibGl2ZUVkaXRJZnJhbWUiLCJpc0hhcmQiLCJzZWxlY3RvciIsIm1vcmVfc2VsZWN0b3JzMiIsImluZGV4IiwiZWwiLCJlbXB0eV9jaGlsZCIsInRhcmdldCIsImZpcnN0TW9kdWxlIl0sIm1hcHBpbmdzIjoiQUFDQSxHQUFHLFFBQVEsWUFBWSxFQUN2QixHQUFHLFFBQVEsY0FBYyxFQUd6QixHQUFHLG9CQUFzQixDQUNwQixhQUFhLFNBQVNBLEVBQUssQ0FFeEIsVUFBRyxFQUFFLGdCQUFpQkEsQ0FBSSxFQUFFLE9BQU0sRUFDbEMsR0FBRyxFQUFFLGlCQUFrQkEsQ0FBSSxFQUFFLE9BQU0sRUFDbkMsR0FBRyxFQUFFLFFBQVNBLENBQUksRUFBRSxLQUFLLFVBQVUsQ0FDL0IsR0FBRyxFQUFFLElBQUksRUFBRSxZQUFZLEtBQUssU0FBUyxDQUNqRCxDQUFTLEVBQ0QsR0FBRyxFQUFFLGtCQUFtQkEsQ0FBSSxFQUFFLFdBQVcsZUFBZSxFQUN4RCxHQUFHLEVBQUUsZUFBZ0JB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
